{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/prabishdangi/Desktop/Personal/untitled%20folder%203/quotation-restorefine/node_modules/%40blinkdotnew/sdk/dist/index.mjs"],"sourcesContent":["var __require = /* @__PURE__ */ ((x) => typeof require !== \"undefined\" ? require : typeof Proxy !== \"undefined\" ? new Proxy(x, {\n  get: (a, b) => (typeof require !== \"undefined\" ? require : a)[b]\n}) : x)(function(x) {\n  if (typeof require !== \"undefined\") return require.apply(this, arguments);\n  throw Error('Dynamic require of \"' + x + '\" is not supported');\n});\n\n// ../core/src/platform.ts\nfunction detectPlatform() {\n  if (typeof Deno !== \"undefined\") {\n    return \"deno\";\n  }\n  if (typeof process !== \"undefined\" && process.versions?.node) {\n    if (typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\") {\n      return \"react-native\";\n    }\n    return \"node\";\n  }\n  if (typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\") {\n    return \"react-native\";\n  }\n  if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n    return \"web\";\n  }\n  return \"node\";\n}\nvar platform = detectPlatform();\nvar isWeb = platform === \"web\";\nvar isReactNative = platform === \"react-native\";\nvar isNode = platform === \"node\";\nvar isDeno = platform === \"deno\";\nvar isBrowser = isWeb || isReactNative;\nvar isServer = isNode || isDeno;\n\n// ../core/src/storage-adapter.ts\nvar WebStorageAdapter = class {\n  getItem(key) {\n    try {\n      if (typeof localStorage === \"undefined\") return null;\n      return localStorage.getItem(key);\n    } catch (error) {\n      console.warn(\"Failed to get item from localStorage:\", error);\n      return null;\n    }\n  }\n  setItem(key, value) {\n    try {\n      if (typeof localStorage === \"undefined\") return;\n      localStorage.setItem(key, value);\n    } catch (error) {\n      console.warn(\"Failed to set item in localStorage:\", error);\n    }\n  }\n  removeItem(key) {\n    try {\n      if (typeof localStorage === \"undefined\") return;\n      localStorage.removeItem(key);\n    } catch (error) {\n      console.warn(\"Failed to remove item from localStorage:\", error);\n    }\n  }\n  clear() {\n    try {\n      if (typeof localStorage === \"undefined\") return;\n      localStorage.clear();\n    } catch (error) {\n      console.warn(\"Failed to clear localStorage:\", error);\n    }\n  }\n};\nvar AsyncStorageAdapter = class {\n  constructor(asyncStorage) {\n    this.asyncStorage = asyncStorage;\n    if (!asyncStorage) {\n      throw new Error(\"AsyncStorage instance is required\");\n    }\n  }\n  async getItem(key) {\n    try {\n      return await this.asyncStorage.getItem(key);\n    } catch (error) {\n      console.warn(\"Failed to get item from AsyncStorage:\", error);\n      return null;\n    }\n  }\n  async setItem(key, value) {\n    try {\n      await this.asyncStorage.setItem(key, value);\n    } catch (error) {\n      console.warn(\"Failed to set item in AsyncStorage:\", error);\n    }\n  }\n  async removeItem(key) {\n    try {\n      await this.asyncStorage.removeItem(key);\n    } catch (error) {\n      console.warn(\"Failed to remove item from AsyncStorage:\", error);\n    }\n  }\n  async clear() {\n    try {\n      await this.asyncStorage.clear();\n    } catch (error) {\n      console.warn(\"Failed to clear AsyncStorage:\", error);\n    }\n  }\n};\nvar NoOpStorageAdapter = class {\n  getItem(_key) {\n    return null;\n  }\n  setItem(_key, _value) {\n  }\n  removeItem(_key) {\n  }\n  clear() {\n  }\n};\nfunction getDefaultStorageAdapter() {\n  if (isDeno) {\n    return new NoOpStorageAdapter();\n  }\n  if (typeof window !== \"undefined\" && typeof localStorage !== \"undefined\") {\n    try {\n      localStorage.setItem(\"__test__\", \"test\");\n      localStorage.removeItem(\"__test__\");\n      return new WebStorageAdapter();\n    } catch {\n    }\n  }\n  return new NoOpStorageAdapter();\n}\n\n// ../core/src/types.ts\nvar BlinkError = class extends Error {\n  constructor(message, code, status, details) {\n    super(message);\n    this.code = code;\n    this.status = status;\n    this.details = details;\n    this.name = \"BlinkError\";\n  }\n};\nvar BlinkAuthError = class extends BlinkError {\n  code;\n  retryable;\n  userMessage;\n  constructor(code, message, userMessage, details) {\n    super(message, code, 401, details);\n    this.name = \"BlinkAuthError\";\n    this.code = code;\n    this.retryable = [\"NETWORK_ERROR\", \"RATE_LIMITED\"].includes(code);\n    this.userMessage = userMessage || this.getDefaultUserMessage(code);\n  }\n  getDefaultUserMessage(code) {\n    switch (code) {\n      case \"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */:\n        return \"Invalid email or password. Please try again.\";\n      case \"EMAIL_NOT_VERIFIED\" /* EMAIL_NOT_VERIFIED */:\n        return \"Please verify your email address before signing in.\";\n      case \"POPUP_CANCELED\" /* POPUP_CANCELED */:\n        return \"Sign-in was canceled. Please try again.\";\n      case \"NETWORK_ERROR\" /* NETWORK_ERROR */:\n        return \"Network error. Please check your connection and try again.\";\n      case \"RATE_LIMITED\" /* RATE_LIMITED */:\n        return \"Too many attempts. Please wait a moment and try again.\";\n      case \"AUTH_TIMEOUT\" /* AUTH_TIMEOUT */:\n        return \"Authentication timed out. Please try again.\";\n      case \"REDIRECT_FAILED\" /* REDIRECT_FAILED */:\n        return \"Redirect failed. Please try again.\";\n      case \"TOKEN_EXPIRED\" /* TOKEN_EXPIRED */:\n        return \"Session expired. Please sign in again.\";\n      case \"USER_NOT_FOUND\" /* USER_NOT_FOUND */:\n        return \"User not found. Please check your email and try again.\";\n      case \"EMAIL_ALREADY_EXISTS\" /* EMAIL_ALREADY_EXISTS */:\n        return \"An account with this email already exists.\";\n      case \"WEAK_PASSWORD\" /* WEAK_PASSWORD */:\n        return \"Password is too weak. Please choose a stronger password.\";\n      case \"INVALID_EMAIL\" /* INVALID_EMAIL */:\n        return \"Please enter a valid email address.\";\n      case \"MAGIC_LINK_EXPIRED\" /* MAGIC_LINK_EXPIRED */:\n        return \"Magic link has expired. Please request a new one.\";\n      case \"VERIFICATION_FAILED\" /* VERIFICATION_FAILED */:\n        return \"Verification failed. Please try again.\";\n      default:\n        return \"Authentication error. Please try again.\";\n    }\n  }\n};\nvar BlinkNetworkError = class extends BlinkError {\n  constructor(message, status, details) {\n    super(message, \"NETWORK_ERROR\", status, details);\n    this.name = \"BlinkNetworkError\";\n  }\n};\nvar BlinkValidationError = class extends BlinkError {\n  constructor(message, details) {\n    super(message, \"VALIDATION_ERROR\", 400, details);\n    this.name = \"BlinkValidationError\";\n  }\n};\nvar BlinkStorageError = class extends BlinkError {\n  constructor(message, status, details) {\n    super(message, \"STORAGE_ERROR\", status, details);\n    this.name = \"BlinkStorageError\";\n  }\n};\nvar BlinkAIError = class extends BlinkError {\n  constructor(message, status, details) {\n    super(message, \"AI_ERROR\", status, details);\n    this.name = \"BlinkAIError\";\n  }\n};\nvar BlinkDataError = class extends BlinkError {\n  constructor(message, status, details) {\n    super(message, \"DATA_ERROR\", status, details);\n    this.name = \"BlinkDataError\";\n  }\n};\nvar BlinkRealtimeError = class extends BlinkError {\n  constructor(message, status, details) {\n    super(message, \"REALTIME_ERROR\", status, details);\n    this.name = \"BlinkRealtimeError\";\n  }\n};\nvar BlinkNotificationsError = class extends BlinkError {\n  constructor(message, status, details) {\n    super(message, \"NOTIFICATIONS_ERROR\", status, details);\n    this.name = \"BlinkNotificationsError\";\n  }\n};\n\n// ../core/src/query-builder.ts\nfunction camelToSnake(str) {\n  return str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\n}\nfunction convertFilterKeysToSnakeCase(condition) {\n  if (!condition) return condition;\n  if (\"AND\" in condition) {\n    return {\n      AND: condition.AND?.map(convertFilterKeysToSnakeCase)\n    };\n  }\n  if (\"OR\" in condition) {\n    return {\n      OR: condition.OR?.map(convertFilterKeysToSnakeCase)\n    };\n  }\n  const converted = {};\n  for (const [field, value] of Object.entries(condition)) {\n    const snakeField = camelToSnake(field);\n    converted[snakeField] = value;\n  }\n  return converted;\n}\nfunction buildFilterQuery(condition) {\n  if (!condition) return \"\";\n  if (\"AND\" in condition) {\n    const andConditions = condition.AND?.map(buildFilterQuery).filter(Boolean) || [];\n    return andConditions.length > 0 ? `and=(${andConditions.join(\",\")})` : \"\";\n  }\n  if (\"OR\" in condition) {\n    const orConditions = condition.OR?.map(buildFilterQuery).filter(Boolean) || [];\n    return orConditions.length > 0 ? `or=(${orConditions.join(\",\")})` : \"\";\n  }\n  const params = [];\n  for (const [field, value] of Object.entries(condition)) {\n    if (value === void 0 || value === null) continue;\n    if (typeof value === \"object\" && !Array.isArray(value)) {\n      for (const [operator, operatorValue] of Object.entries(value)) {\n        const param = buildOperatorQuery(field, operator, operatorValue);\n        if (param) params.push(param);\n      }\n    } else {\n      params.push(`${field}=eq.${encodeQueryValue(value)}`);\n    }\n  }\n  return params.join(\"&\");\n}\nfunction buildOperatorQuery(field, operator, value) {\n  switch (operator) {\n    case \"eq\":\n      return `${field}=eq.${encodeQueryValue(value)}`;\n    case \"neq\":\n      return `${field}=neq.${encodeQueryValue(value)}`;\n    case \"gt\":\n      return `${field}=gt.${encodeQueryValue(value)}`;\n    case \"gte\":\n      return `${field}=gte.${encodeQueryValue(value)}`;\n    case \"lt\":\n      return `${field}=lt.${encodeQueryValue(value)}`;\n    case \"lte\":\n      return `${field}=lte.${encodeQueryValue(value)}`;\n    case \"like\":\n      return `${field}=like.${encodeQueryValue(value)}`;\n    case \"ilike\":\n      return `${field}=ilike.${encodeQueryValue(value)}`;\n    case \"is\":\n      return `${field}=is.${value === null ? \"null\" : encodeQueryValue(value)}`;\n    case \"not\":\n      return `${field}=not.${encodeQueryValue(value)}`;\n    case \"in\":\n      if (Array.isArray(value)) {\n        const values = value.map(encodeQueryValue).join(\",\");\n        return `${field}=in.(${values})`;\n      }\n      return \"\";\n    case \"not_in\":\n      if (Array.isArray(value)) {\n        const values = value.map(encodeQueryValue).join(\",\");\n        return `${field}=not.in.(${values})`;\n      }\n      return \"\";\n    default:\n      return \"\";\n  }\n}\nfunction encodeQueryValue(value) {\n  if (value === null) return \"null\";\n  if (typeof value === \"boolean\") {\n    return value ? \"1\" : \"0\";\n  }\n  if (typeof value === \"number\") return value.toString();\n  return encodeURIComponent(String(value));\n}\nfunction buildQuery(options = {}) {\n  const params = {};\n  if (options.select && options.select.length > 0) {\n    const snakeFields = options.select.map(camelToSnake);\n    params.select = snakeFields.join(\",\");\n  } else {\n    params.select = \"*\";\n  }\n  if (options.where) {\n    const convertedWhere = convertFilterKeysToSnakeCase(options.where);\n    const filterQuery = buildFilterQuery(convertedWhere);\n    if (filterQuery) {\n      const filterParams = filterQuery.split(\"&\");\n      for (const param of filterParams) {\n        const [key, value] = param.split(\"=\", 2);\n        if (key && value) {\n          params[key] = value;\n        }\n      }\n    }\n  }\n  if (options.orderBy) {\n    if (typeof options.orderBy === \"string\") {\n      params.order = options.orderBy;\n    } else {\n      const orderClauses = Object.entries(options.orderBy).map(([field, direction]) => `${camelToSnake(field)}.${direction}`);\n      params.order = orderClauses.join(\",\");\n    }\n  }\n  if (options.limit !== void 0) {\n    params.limit = options.limit.toString();\n  }\n  if (options.offset !== void 0) {\n    params.offset = options.offset.toString();\n  }\n  if (options.cursor) {\n    params.cursor = options.cursor;\n  }\n  return params;\n}\n\n// ../core/src/http-client.ts\nfunction camelToSnake2(str) {\n  return str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\n}\nfunction snakeToCamel(str) {\n  return str.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());\n}\nfunction convertKeysToSnakeCase(obj) {\n  if (obj === null || obj === void 0) return obj;\n  if (typeof obj !== \"object\") return obj;\n  if (Array.isArray(obj)) return obj.map(convertKeysToSnakeCase);\n  const converted = {};\n  for (const [key, value] of Object.entries(obj)) {\n    const snakeKey = camelToSnake2(key);\n    converted[snakeKey] = convertKeysToSnakeCase(value);\n  }\n  return converted;\n}\nfunction convertKeysToCamelCase(obj) {\n  if (obj === null || obj === void 0) return obj;\n  if (typeof obj !== \"object\") return obj;\n  if (Array.isArray(obj)) return obj.map(convertKeysToCamelCase);\n  const converted = {};\n  for (const [key, value] of Object.entries(obj)) {\n    const camelKey = snakeToCamel(key);\n    converted[camelKey] = convertKeysToCamelCase(value);\n  }\n  return converted;\n}\nvar HttpClient = class {\n  authUrl = \"https://blink.new\";\n  coreUrl = \"https://core.blink.new\";\n  projectId;\n  publishableKey;\n  secretKey;\n  // Permanent, non-expiring key (like Stripe's sk_live_...)\n  getToken;\n  getValidToken;\n  constructor(config, getToken, getValidToken) {\n    this.projectId = config.projectId;\n    this.publishableKey = config.publishableKey;\n    this.secretKey = config.secretKey || config.serviceToken;\n    this.getToken = getToken;\n    this.getValidToken = getValidToken;\n  }\n  shouldAttachPublishableKey(path, method) {\n    if (method !== \"GET\" && method !== \"POST\") return false;\n    if (path.includes(\"/api/analytics/\")) return true;\n    if (path.includes(\"/api/storage/\")) return true;\n    if (path.includes(\"/api/db/\") && path.includes(\"/rest/v1/\")) return method === \"GET\";\n    return false;\n  }\n  shouldSkipSecretKey(url) {\n    try {\n      const parsed = new URL(url);\n      return parsed.hostname.endsWith(\".functions.blink.new\");\n    } catch {\n      return false;\n    }\n  }\n  getAuthorizationHeader(url, token) {\n    if (this.secretKey && !this.shouldSkipSecretKey(url)) {\n      return `Bearer ${this.secretKey}`;\n    }\n    if (token) {\n      return `Bearer ${token}`;\n    }\n    return null;\n  }\n  /**\n   * Make an authenticated request to the Blink API\n   */\n  async request(path, options = {}) {\n    const url = this.buildUrl(path, options.searchParams);\n    const token = this.getValidToken ? await this.getValidToken() : this.getToken();\n    const method = options.method || \"GET\";\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      ...options.headers\n    };\n    const auth = this.getAuthorizationHeader(url, token);\n    if (auth) {\n      headers.Authorization = auth;\n    } else if (this.publishableKey && !headers[\"x-blink-publishable-key\"] && this.shouldAttachPublishableKey(path, method)) {\n      headers[\"x-blink-publishable-key\"] = this.publishableKey;\n    }\n    const requestInit = {\n      method,\n      headers,\n      signal: options.signal\n    };\n    if (options.body && method !== \"GET\") {\n      requestInit.body = typeof options.body === \"string\" ? options.body : JSON.stringify(options.body);\n    }\n    try {\n      const response = await fetch(url, requestInit);\n      if (!response.ok) {\n        await this.handleErrorResponse(response);\n      }\n      const data = await this.parseResponse(response);\n      return {\n        data,\n        status: response.status,\n        headers: response.headers\n      };\n    } catch (error) {\n      if (error instanceof BlinkError) {\n        throw error;\n      }\n      throw new BlinkNetworkError(\n        `Network request failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * GET request\n   */\n  async get(path, searchParams) {\n    return this.request(path, { method: \"GET\", searchParams });\n  }\n  /**\n   * POST request\n   */\n  async post(path, body, headers) {\n    return this.request(path, { method: \"POST\", body, headers });\n  }\n  /**\n   * PATCH request\n   */\n  async patch(path, body, headers) {\n    return this.request(path, { method: \"PATCH\", body, headers });\n  }\n  /**\n   * DELETE request\n   */\n  async delete(path, searchParams) {\n    return this.request(path, { method: \"DELETE\", searchParams });\n  }\n  /**\n   * Database-specific requests\n   */\n  // Table operations (PostgREST-compatible)\n  async dbGet(table, searchParams) {\n    const response = await this.get(`/api/db/${this.projectId}/rest/v1/${table}`, searchParams);\n    const convertedData = convertKeysToCamelCase(response.data);\n    return {\n      ...response,\n      data: convertedData\n    };\n  }\n  async dbPost(table, body, options = {}) {\n    const headers = {};\n    if (options.returning) {\n      headers.Prefer = \"return=representation\";\n    }\n    const convertedBody = convertKeysToSnakeCase(body);\n    const response = await this.post(`/api/db/${this.projectId}/rest/v1/${table}`, convertedBody, headers);\n    const convertedData = convertKeysToCamelCase(response.data);\n    return {\n      ...response,\n      data: convertedData\n    };\n  }\n  async dbPatch(table, body, searchParams, options = {}) {\n    const headers = {};\n    if (options.returning) {\n      headers.Prefer = \"return=representation\";\n    }\n    const convertedBody = convertKeysToSnakeCase(body);\n    const response = await this.request(`/api/db/${this.projectId}/rest/v1/${table}`, {\n      method: \"PATCH\",\n      body: convertedBody,\n      headers,\n      searchParams\n    });\n    const convertedData = convertKeysToCamelCase(response.data);\n    return {\n      ...response,\n      data: convertedData\n    };\n  }\n  async dbDelete(table, searchParams, options = {}) {\n    const headers = {};\n    if (options.returning) {\n      headers.Prefer = \"return=representation\";\n    }\n    const response = await this.request(`/api/db/${this.projectId}/rest/v1/${table}`, {\n      method: \"DELETE\",\n      headers,\n      searchParams\n    });\n    const convertedData = convertKeysToCamelCase(response.data);\n    return {\n      ...response,\n      data: convertedData\n    };\n  }\n  // Raw SQL operations\n  async dbSql(query, params) {\n    const response = await this.post(`/api/db/${this.projectId}/sql`, { query, params });\n    const convertedData = {\n      ...response.data,\n      rows: convertKeysToCamelCase(response.data.rows)\n    };\n    return {\n      ...response,\n      data: convertedData\n    };\n  }\n  // Batch SQL operations\n  async dbBatch(statements, mode = \"write\") {\n    const response = await this.post(`/api/db/${this.projectId}/batch`, { statements, mode });\n    const convertedData = {\n      ...response.data,\n      results: response.data.results.map((result) => ({\n        ...result,\n        rows: convertKeysToCamelCase(result.rows)\n      }))\n    };\n    return {\n      ...response,\n      data: convertedData\n    };\n  }\n  /**\n   * Upload file with progress tracking\n   */\n  async uploadFile(path, file, filePath, options = {}) {\n    const url = this.buildUrl(path);\n    const token = this.getValidToken ? await this.getValidToken() : this.getToken();\n    const formData = new FormData();\n    if (file instanceof File) {\n      formData.append(\"file\", file);\n    } else if (file instanceof Blob) {\n      const blobWithType = options.contentType ? new Blob([file], { type: options.contentType }) : file;\n      formData.append(\"file\", blobWithType);\n    } else if (typeof Buffer !== \"undefined\" && file instanceof Buffer) {\n      const blob = new Blob([file], { type: options.contentType || \"application/octet-stream\" });\n      formData.append(\"file\", blob);\n    } else {\n      throw new BlinkValidationError(\"Unsupported file type\");\n    }\n    formData.append(\"path\", filePath);\n    const headers = {};\n    const auth = this.getAuthorizationHeader(url, token);\n    if (auth) {\n      headers.Authorization = auth;\n    } else if (this.publishableKey && path.includes(\"/api/storage/\") && !headers[\"x-blink-publishable-key\"]) {\n      headers[\"x-blink-publishable-key\"] = this.publishableKey;\n    }\n    try {\n      if (typeof XMLHttpRequest !== \"undefined\" && options.onProgress) {\n        return this.uploadWithProgress(url, formData, headers, options.onProgress);\n      }\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers,\n        body: formData\n      });\n      if (!response.ok) {\n        await this.handleErrorResponse(response);\n      }\n      const data = await this.parseResponse(response);\n      return {\n        data,\n        status: response.status,\n        headers: response.headers\n      };\n    } catch (error) {\n      if (error instanceof BlinkError) {\n        throw error;\n      }\n      throw new BlinkNetworkError(\n        `File upload failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Upload with progress tracking using XMLHttpRequest\n   */\n  uploadWithProgress(url, formData, headers, onProgress) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.upload.addEventListener(\"progress\", (event) => {\n        if (event.lengthComputable) {\n          const percent = Math.round(event.loaded / event.total * 100);\n          onProgress(percent);\n        }\n      });\n      xhr.addEventListener(\"load\", async () => {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          try {\n            const data = JSON.parse(xhr.responseText);\n            resolve({\n              data,\n              status: xhr.status,\n              headers: new Headers()\n              // XMLHttpRequest doesn't provide easy access to response headers\n            });\n          } catch (error) {\n            reject(new BlinkNetworkError(\"Failed to parse response\", xhr.status));\n          }\n        } else {\n          try {\n            const errorData = JSON.parse(xhr.responseText);\n            const message = errorData.error?.message || errorData.message || `HTTP ${xhr.status}`;\n            switch (xhr.status) {\n              case 401:\n                reject(new BlinkAuthError(message, errorData));\n                break;\n              case 400:\n                reject(new BlinkValidationError(message, errorData));\n                break;\n              default:\n                reject(new BlinkNetworkError(message, xhr.status, errorData));\n            }\n          } catch {\n            reject(new BlinkNetworkError(`HTTP ${xhr.status}`, xhr.status));\n          }\n        }\n      });\n      xhr.addEventListener(\"error\", () => {\n        reject(new BlinkNetworkError(\"Network error during file upload\"));\n      });\n      xhr.open(\"POST\", url);\n      Object.entries(headers).forEach(([key, value]) => {\n        xhr.setRequestHeader(key, value);\n      });\n      xhr.send(formData);\n    });\n  }\n  /**\n   * AI-specific requests\n   */\n  async aiText(prompt, options = {}) {\n    const { signal, ...body } = options;\n    const requestBody = { ...body };\n    if (prompt) {\n      requestBody.prompt = prompt;\n    }\n    return this.request(`/api/ai/${this.projectId}/text`, {\n      method: \"POST\",\n      body: requestBody,\n      signal\n    });\n  }\n  /**\n   * Stream AI text generation - uses Vercel AI SDK's pipeUIMessageStreamToResponse (Data Stream Protocol)\n   */\n  async streamAiText(prompt, options = {}, onChunk) {\n    const url = this.buildUrl(`/api/ai/${this.projectId}/text`);\n    const token = this.getValidToken ? await this.getValidToken() : this.getToken();\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    const auth = this.getAuthorizationHeader(url, token);\n    if (auth) headers.Authorization = auth;\n    const body = {\n      prompt,\n      stream: true,\n      ...options\n    };\n    const { signal: _signal, ...jsonBody } = body;\n    try {\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify(jsonBody),\n        signal: options.signal\n      });\n      if (!response.ok) {\n        await this.handleErrorResponse(response);\n      }\n      if (!response.body) {\n        throw new BlinkNetworkError(\"No response body for streaming\");\n      }\n      return this.parseDataStreamProtocol(response.body, onChunk);\n    } catch (error) {\n      if (error instanceof BlinkError) {\n        throw error;\n      }\n      throw new BlinkNetworkError(\n        `Streaming request failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        0,\n        { originalError: error }\n      );\n    }\n  }\n  async aiObject(prompt, options = {}) {\n    const { signal, ...body } = options;\n    const requestBody = { ...body };\n    if (prompt) {\n      requestBody.prompt = prompt;\n    }\n    return this.request(`/api/ai/${this.projectId}/object`, {\n      method: \"POST\",\n      body: requestBody,\n      signal\n    });\n  }\n  /**\n   * Stream AI object generation - uses Vercel AI SDK's pipeTextStreamToResponse\n   */\n  async streamAiObject(prompt, options = {}, onPartial) {\n    const url = this.buildUrl(`/api/ai/${this.projectId}/object`);\n    const token = this.getValidToken ? await this.getValidToken() : this.getToken();\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    const auth = this.getAuthorizationHeader(url, token);\n    if (auth) headers.Authorization = auth;\n    const body = {\n      prompt,\n      stream: true,\n      ...options\n    };\n    const { signal: _signal2, ...jsonBody2 } = body;\n    try {\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify(jsonBody2),\n        signal: options.signal\n      });\n      if (!response.ok) {\n        await this.handleErrorResponse(response);\n      }\n      if (!response.body) {\n        throw new BlinkNetworkError(\"No response body for streaming\");\n      }\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let buffer = \"\";\n      let latestObject = {};\n      try {\n        while (true) {\n          const { done, value } = await reader.read();\n          if (done) break;\n          const chunk = decoder.decode(value, { stream: true });\n          buffer += chunk;\n          try {\n            const parsed = JSON.parse(buffer);\n            latestObject = parsed;\n            if (onPartial) {\n              onPartial(parsed);\n            }\n          } catch {\n          }\n        }\n        if (buffer) {\n          try {\n            latestObject = JSON.parse(buffer);\n          } catch {\n          }\n        }\n        return { object: latestObject };\n      } finally {\n        reader.releaseLock();\n      }\n    } catch (error) {\n      if (error instanceof BlinkError) {\n        throw error;\n      }\n      throw new BlinkNetworkError(\n        `Streaming request failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        0,\n        { originalError: error }\n      );\n    }\n  }\n  async aiImage(prompt, options = {}) {\n    const { signal, ...body } = options;\n    return this.request(`/api/ai/${this.projectId}/image`, {\n      method: \"POST\",\n      body: {\n        prompt,\n        ...body\n      },\n      signal\n    });\n  }\n  async aiSpeech(text, options = {}) {\n    const { signal, ...body } = options;\n    return this.request(`/api/ai/${this.projectId}/speech`, {\n      method: \"POST\",\n      body: {\n        text,\n        ...body\n      },\n      signal\n    });\n  }\n  async aiTranscribe(audio, options = {}) {\n    const { signal, ...body } = options;\n    let payloadAudio;\n    if (typeof audio === \"string\" || Array.isArray(audio)) {\n      payloadAudio = audio;\n    } else if (audio instanceof Uint8Array) {\n      payloadAudio = Array.from(audio);\n    } else if (audio instanceof ArrayBuffer) {\n      payloadAudio = Array.from(new Uint8Array(audio));\n    } else if (typeof Buffer !== \"undefined\" && Buffer.isBuffer(audio)) {\n      payloadAudio = Array.from(new Uint8Array(audio));\n    } else {\n      throw new BlinkValidationError(\"Unsupported audio input type\");\n    }\n    return this.request(`/api/ai/${this.projectId}/transcribe`, {\n      method: \"POST\",\n      body: {\n        audio: payloadAudio,\n        ...body\n      },\n      signal\n    });\n  }\n  async aiVideo(prompt, options = {}) {\n    const { signal, ...body } = options;\n    return this.request(`/api/ai/${this.projectId}/video`, {\n      method: \"POST\",\n      body: {\n        prompt,\n        ...body\n      },\n      signal\n    });\n  }\n  /**\n   * AI Agent request (non-streaming)\n   * Returns JSON response with text, steps, usage, and billing\n   */\n  async aiAgent(requestBody, signal) {\n    return this.request(`/api/ai/${this.projectId}/agent`, {\n      method: \"POST\",\n      body: requestBody,\n      signal\n    });\n  }\n  /**\n   * AI Agent streaming request\n   * Returns raw Response for SSE streaming (compatible with AI SDK useChat)\n   */\n  async aiAgentStream(requestBody, signal) {\n    const url = this.buildUrl(`/api/ai/${this.projectId}/agent`);\n    const token = this.getValidToken ? await this.getValidToken() : this.getToken();\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    const auth = this.getAuthorizationHeader(url, token);\n    if (auth) headers.Authorization = auth;\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify(requestBody),\n      signal\n    });\n    if (!response.ok) {\n      await this.handleErrorResponse(response);\n    }\n    return response;\n  }\n  /**\n   * RAG AI Search streaming request\n   * Returns raw Response for SSE streaming\n   */\n  async ragAiSearchStream(body, signal) {\n    const url = this.buildUrl(`/api/rag/${this.projectId}/ai-search`);\n    const token = this.getValidToken ? await this.getValidToken() : this.getToken();\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    const auth = this.getAuthorizationHeader(url, token);\n    if (auth) headers.Authorization = auth;\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify(body),\n      signal\n    });\n    if (!response.ok) {\n      await this.handleErrorResponse(response);\n    }\n    return response;\n  }\n  /**\n   * Data-specific requests\n   */\n  async dataExtractFromUrl(projectId, request) {\n    return this.request(`/api/data/${projectId}/extract-from-url`, {\n      method: \"POST\",\n      body: JSON.stringify(request)\n    });\n  }\n  async dataExtractFromBlob(projectId, file, chunking, chunkSize) {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    if (chunking !== void 0) {\n      formData.append(\"chunking\", String(chunking));\n    }\n    if (chunkSize !== void 0) {\n      formData.append(\"chunkSize\", String(chunkSize));\n    }\n    return this.request(`/api/data/${projectId}/extract-from-blob`, {\n      method: \"POST\",\n      body: formData\n    });\n  }\n  async dataScrape(projectId, request) {\n    return this.request(`/api/data/${projectId}/scrape`, {\n      method: \"POST\",\n      body: JSON.stringify(request)\n    });\n  }\n  async dataScreenshot(projectId, request) {\n    return this.request(`/api/data/${projectId}/screenshot`, {\n      method: \"POST\",\n      body: JSON.stringify(request)\n    });\n  }\n  async dataFetch(projectId, request) {\n    return this.post(`/api/data/${projectId}/fetch`, request);\n  }\n  async dataSearch(projectId, request) {\n    return this.post(`/api/data/${projectId}/search`, request);\n  }\n  /**\n   * Connector requests\n   */\n  formatProviderForPath(provider) {\n    return provider.replace(\"_\", \"-\");\n  }\n  async connectorStatus(provider) {\n    return this.request(`/api/connectors/${this.formatProviderForPath(provider)}/${this.projectId}/status`, {\n      method: \"GET\"\n    });\n  }\n  async connectorExecute(provider, request) {\n    const path = request.method.startsWith(\"/\") ? request.method : `/${request.method}`;\n    const url = `/api/connectors/${this.formatProviderForPath(provider)}/${this.projectId}${path}`;\n    const method = (request.http_method || \"GET\").toUpperCase();\n    if (method === \"GET\") {\n      return this.request(url, {\n        method: \"GET\",\n        searchParams: request.params\n      });\n    }\n    return this.request(url, {\n      method,\n      body: request.params || {}\n    });\n  }\n  async connectorSaveApiKey(provider, request) {\n    return this.request(`/api/connectors/${this.formatProviderForPath(provider)}/${this.projectId}/api-key`, {\n      method: \"POST\",\n      body: request\n    });\n  }\n  /**\n   * Realtime-specific requests\n   */\n  async realtimePublish(projectId, request) {\n    return this.post(`/api/realtime/${projectId}/publish`, request);\n  }\n  async realtimeGetPresence(projectId, channel) {\n    return this.get(`/api/realtime/${projectId}/presence`, { channel });\n  }\n  async realtimeGetMessages(projectId, options) {\n    const { channel, ...searchParams } = options;\n    return this.get(`/api/realtime/${projectId}/messages`, {\n      channel,\n      ...Object.fromEntries(\n        Object.entries(searchParams).filter(([k, v]) => v !== void 0).map(([k, v]) => [k, String(v)])\n      )\n    });\n  }\n  /**\n   * Private helper methods\n   */\n  buildUrl(path, searchParams) {\n    const baseUrl = path.includes(\"/api/auth/\") ? this.authUrl : this.coreUrl;\n    const url = new URL(path, baseUrl);\n    if (searchParams) {\n      Object.entries(searchParams).forEach(([key, value]) => {\n        url.searchParams.set(key, value);\n      });\n    }\n    return url.toString();\n  }\n  async parseResponse(response) {\n    const contentType = response.headers.get(\"content-type\");\n    if (contentType?.includes(\"application/json\")) {\n      return response.json();\n    }\n    if (contentType?.includes(\"text/\")) {\n      return response.text();\n    }\n    return response.blob();\n  }\n  async handleErrorResponse(response) {\n    let errorData;\n    try {\n      const contentType = response.headers.get(\"content-type\");\n      if (contentType?.includes(\"application/json\")) {\n        errorData = await response.json();\n      } else {\n        errorData = { message: await response.text() };\n      }\n    } catch {\n      errorData = { message: \"Unknown error occurred\" };\n    }\n    const message = errorData.error?.message || errorData.message || `HTTP ${response.status}`;\n    errorData.error?.code || errorData.code;\n    switch (response.status) {\n      case 401:\n        throw new BlinkAuthError(message, errorData);\n      case 400:\n        throw new BlinkValidationError(message, errorData);\n      default:\n        throw new BlinkNetworkError(message, response.status, errorData);\n    }\n  }\n  /**\n   * Parse Vercel AI SDK v5 Data Stream Protocol (Server-Sent Events)\n   * Supports all event types from the UI Message Stream protocol\n   */\n  async parseDataStreamProtocol(body, onChunk) {\n    const reader = body.getReader();\n    const decoder = new TextDecoder();\n    const finalResult = {\n      text: \"\",\n      toolCalls: [],\n      toolResults: [],\n      sources: [],\n      files: [],\n      reasoning: []\n    };\n    let buffer = \"\";\n    try {\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n        buffer += decoder.decode(value, { stream: true });\n        const lines = buffer.split(\"\\n\");\n        buffer = lines.pop() || \"\";\n        for (const line of lines) {\n          if (!line.trim()) continue;\n          if (line === \"[DONE]\") {\n            continue;\n          }\n          if (!line.startsWith(\"data: \")) continue;\n          try {\n            const jsonStr = line.slice(6);\n            const part = JSON.parse(jsonStr);\n            switch (part.type) {\n              case \"text-start\":\n                break;\n              case \"text-delta\":\n                if (part.delta) {\n                  finalResult.text += part.delta;\n                  if (onChunk) onChunk(part.delta);\n                }\n                if (part.textDelta) {\n                  finalResult.text += part.textDelta;\n                  if (onChunk) onChunk(part.textDelta);\n                }\n                break;\n              case \"text-end\":\n                break;\n              case \"tool-call\":\n                finalResult.toolCalls.push({\n                  toolCallId: part.toolCallId,\n                  toolName: part.toolName,\n                  args: part.args\n                });\n                break;\n              case \"tool-result\":\n                finalResult.toolResults.push({\n                  toolCallId: part.toolCallId,\n                  toolName: part.toolName,\n                  result: part.result\n                });\n                break;\n              case \"source-url\":\n                finalResult.sources.push({\n                  id: part.id,\n                  url: part.url,\n                  title: part.title\n                });\n                break;\n              case \"file\":\n                finalResult.files.push(part.file);\n                break;\n              case \"reasoning\":\n                finalResult.reasoning.push(part.content);\n                break;\n              case \"finish\":\n                finalResult.finishReason = part.finishReason;\n                finalResult.usage = part.usage;\n                if (part.response) finalResult.response = part.response;\n                break;\n              case \"error\":\n                finalResult.error = part.error;\n                throw new Error(part.error);\n              case \"data\":\n                if (!finalResult.customData) finalResult.customData = [];\n                finalResult.customData.push(part.value);\n                break;\n            }\n          } catch (e) {\n          }\n        }\n      }\n      return finalResult;\n    } finally {\n      reader.releaseLock();\n    }\n  }\n};\n\n// src/utils/browser-env.ts\nfunction hasWindow() {\n  return typeof window !== \"undefined\";\n}\nfunction hasWindowLocation() {\n  return typeof window !== \"undefined\" && typeof window.location !== \"undefined\";\n}\nfunction hasDocument() {\n  return typeof document !== \"undefined\";\n}\nfunction isReactNative2() {\n  return typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\";\n}\nfunction getWindowLocation() {\n  if (!hasWindow()) return null;\n  try {\n    return window.location;\n  } catch {\n    return null;\n  }\n}\nfunction getLocationHref() {\n  const loc = getWindowLocation();\n  if (!loc) return null;\n  try {\n    return loc.href;\n  } catch {\n    return null;\n  }\n}\nfunction getLocationOrigin() {\n  const loc = getWindowLocation();\n  if (!loc) return null;\n  try {\n    return loc.origin;\n  } catch {\n    return null;\n  }\n}\nfunction getLocationHostname() {\n  const loc = getWindowLocation();\n  if (!loc) return null;\n  try {\n    return loc.hostname;\n  } catch {\n    return null;\n  }\n}\nfunction getLocationPathname() {\n  const loc = getWindowLocation();\n  if (!loc) return null;\n  try {\n    return loc.pathname;\n  } catch {\n    return null;\n  }\n}\nfunction getLocationSearch() {\n  const loc = getWindowLocation();\n  if (!loc) return null;\n  try {\n    return loc.search;\n  } catch {\n    return null;\n  }\n}\nfunction getLocationHash() {\n  const loc = getWindowLocation();\n  if (!loc) return null;\n  try {\n    return loc.hash;\n  } catch {\n    return null;\n  }\n}\nfunction getLocationProtocol() {\n  const loc = getWindowLocation();\n  if (!loc) return null;\n  try {\n    return loc.protocol;\n  } catch {\n    return null;\n  }\n}\nfunction getLocationHost() {\n  const loc = getWindowLocation();\n  if (!loc) return null;\n  try {\n    return loc.host;\n  } catch {\n    return null;\n  }\n}\nfunction constructFullUrl() {\n  if (!hasWindow()) return null;\n  const protocol = getLocationProtocol();\n  const host = getLocationHost();\n  const pathname = getLocationPathname();\n  const search = getLocationSearch();\n  const hash = getLocationHash();\n  if (!protocol || !host) return null;\n  return `${protocol}//${host}${pathname || \"\"}${search || \"\"}${hash || \"\"}`;\n}\nfunction getDocumentReferrer() {\n  if (!hasDocument()) return null;\n  try {\n    return document.referrer || null;\n  } catch {\n    return null;\n  }\n}\nfunction getWindowInnerWidth() {\n  if (!hasWindow()) return null;\n  try {\n    return window.innerWidth;\n  } catch {\n    return null;\n  }\n}\nfunction isIframe() {\n  if (!hasWindow()) return false;\n  try {\n    return window.self !== window.top;\n  } catch {\n    return true;\n  }\n}\nfunction getSessionStorage() {\n  if (!hasWindow()) return null;\n  try {\n    return window.sessionStorage;\n  } catch {\n    return null;\n  }\n}\n\n// src/auth.ts\nvar BlinkAuth = class {\n  config;\n  authConfig;\n  authState;\n  listeners = /* @__PURE__ */ new Set();\n  authUrl;\n  coreUrl;\n  parentWindowTokens = null;\n  isIframe = false;\n  initializationPromise = null;\n  isInitialized = false;\n  storage;\n  constructor(config) {\n    this.config = config;\n    if (!config.projectId) {\n      throw new Error(\"projectId is required for authentication\");\n    }\n    this.authConfig = {\n      mode: \"managed\",\n      // Default mode\n      authUrl: \"https://blink.new\",\n      coreUrl: \"https://core.blink.new\",\n      detectSessionInUrl: true,\n      // Default to true for web compatibility\n      ...config.auth\n    };\n    this.authUrl = this.authConfig.authUrl || \"https://blink.new\";\n    this.coreUrl = this.authConfig.coreUrl || \"https://core.blink.new\";\n    const hostname = getLocationHostname();\n    if (hostname && this.authUrl === \"https://blink.new\" && (hostname === \"localhost\" || hostname === \"127.0.0.1\")) {\n      console.warn(\"\\u26A0\\uFE0F Using default authUrl in development. Set auth.authUrl to your app origin for headless auth endpoints to work.\");\n    }\n    if (config.authRequired !== void 0 && !config.auth?.mode) {\n      this.authConfig.mode = config.authRequired ? \"managed\" : \"headless\";\n    }\n    this.authState = {\n      user: null,\n      tokens: null,\n      isAuthenticated: false,\n      isLoading: false\n    };\n    this.storage = config.auth?.storage || config.storage || getDefaultStorageAdapter();\n    if (isWeb) {\n      this.isIframe = isIframe();\n      this.setupParentWindowListener();\n      this.setupCrossTabSync();\n      this.initializationPromise = this.initialize();\n    } else {\n      this.isInitialized = true;\n    }\n  }\n  /**\n   * Generate project-scoped storage key\n   */\n  getStorageKey(suffix) {\n    return `blink_${suffix}_${this.config.projectId}`;\n  }\n  /**\n   * Migrate existing global tokens to project-scoped storage\n   * DISABLED: We don't migrate global blink_tokens anymore because:\n   * 1. Platform uses blink_tokens for platform auth (different user)\n   * 2. Migrating platform tokens would cause project to show wrong user\n   * 3. Projects should always authenticate fresh via their own flow\n   */\n  migrateExistingTokens() {\n  }\n  /**\n   * Wait for authentication initialization to complete\n   */\n  async waitForInitialization() {\n    if (this.isInitialized) return;\n    if (this.initializationPromise) {\n      await this.initializationPromise;\n    }\n  }\n  /**\n   * Setup listener for tokens from parent window\n   */\n  setupParentWindowListener() {\n    if (!isWeb || !this.isIframe || !hasWindow()) return;\n    window.addEventListener(\"message\", (event) => {\n      if (event.origin !== \"https://blink.new\" && event.origin !== \"http://localhost:3000\" && event.origin !== \"http://localhost:3001\") {\n        return;\n      }\n      if (event.data?.type === \"BLINK_AUTH_TOKENS\") {\n        console.log(\"\\u{1F4E5} Received auth tokens from parent window\");\n        const { tokens } = event.data;\n        if (tokens) {\n          this.parentWindowTokens = tokens;\n          this.setTokens(tokens, false).then(() => {\n            console.log(\"\\u2705 Tokens from parent window applied\");\n          }).catch((error) => {\n            console.error(\"Failed to apply parent window tokens:\", error);\n          });\n        }\n      }\n      if (event.data?.type === \"BLINK_AUTH_LOGOUT\") {\n        console.log(\"\\u{1F4E4} Received logout command from parent window\");\n        this.clearTokens();\n      }\n    });\n    if (hasWindow() && window.parent !== window) {\n      console.log(\"\\u{1F504} Requesting auth tokens from parent window\");\n      window.parent.postMessage({\n        type: \"BLINK_REQUEST_AUTH_TOKENS\",\n        projectId: this.config.projectId\n      }, \"*\");\n    }\n  }\n  /**\n   * Initialize authentication from stored tokens or URL fragments\n   */\n  async initialize() {\n    console.log(\"\\u{1F680} Initializing Blink Auth...\");\n    this.setLoading(true);\n    try {\n      this.migrateExistingTokens();\n      if (this.isIframe) {\n        console.log(\"\\u{1F50D} Detected iframe environment, waiting for parent tokens...\");\n        await new Promise((resolve) => setTimeout(resolve, 100));\n        if (this.parentWindowTokens) {\n          console.log(\"\\u2705 Using tokens from parent window\");\n          await this.setTokens(this.parentWindowTokens, false);\n          return;\n        }\n      }\n      if (this.authConfig.detectSessionInUrl !== false) {\n        const tokensFromUrl = this.extractTokensFromUrl();\n        if (tokensFromUrl) {\n          console.log(\"\\u{1F4E5} Found tokens in URL, setting them...\");\n          await this.setTokens(tokensFromUrl, true);\n          this.clearUrlTokens();\n          console.log(\"\\u2705 Auth initialization complete (from URL)\");\n          return;\n        }\n      }\n      const storedTokens = await this.getStoredTokens();\n      if (storedTokens) {\n        console.log(\"\\u{1F4BE} Found stored tokens, validating...\", {\n          hasAccessToken: !!storedTokens.access_token,\n          hasRefreshToken: !!storedTokens.refresh_token,\n          issuedAt: storedTokens.issued_at,\n          expiresIn: storedTokens.expires_in,\n          refreshExpiresIn: storedTokens.refresh_expires_in,\n          currentTime: Math.floor(Date.now() / 1e3)\n        });\n        this.authState.tokens = storedTokens;\n        console.log(\"\\u{1F527} Tokens set in auth state, refresh token available:\", !!this.authState.tokens?.refresh_token);\n        const isValid = await this.validateStoredTokens(storedTokens);\n        if (isValid) {\n          console.log(\"\\u2705 Auth initialization complete (from storage)\");\n          return;\n        } else {\n          console.log(\"\\u{1F504} Stored tokens invalid, clearing...\");\n          this.clearTokens();\n        }\n      }\n      console.log(\"\\u274C No tokens found\");\n      if (this.config.authRequired && hasWindowLocation()) {\n        console.log(\"\\u{1F504} Auth required, redirecting to auth page...\");\n        this.redirectToAuth();\n      } else {\n        console.log(\"\\u26A0\\uFE0F Auth not required or no window.location, continuing without authentication\");\n      }\n    } finally {\n      this.setLoading(false);\n      this.isInitialized = true;\n    }\n  }\n  /**\n   * Redirect to Blink auth page\n   */\n  login(nextUrl) {\n    if (!hasWindowLocation()) {\n      console.warn(\"login() called in non-browser environment (no window.location available)\");\n      return;\n    }\n    let redirectUrl = nextUrl || this.authConfig.redirectUrl;\n    if (!redirectUrl) {\n      const href = getLocationHref();\n      if (href && href.startsWith(\"http\")) {\n        redirectUrl = href;\n      } else {\n        redirectUrl = constructFullUrl() || void 0;\n      }\n    }\n    if (redirectUrl) {\n      try {\n        const url = new URL(redirectUrl);\n        url.searchParams.delete(\"redirect_url\");\n        url.searchParams.delete(\"redirect\");\n        redirectUrl = url.toString();\n      } catch (e) {\n        console.warn(\"Failed to parse redirect URL:\", e);\n      }\n    }\n    const authUrl = new URL(\"/auth\", this.authUrl);\n    authUrl.searchParams.set(\"redirect_url\", redirectUrl || \"\");\n    if (this.config.projectId) {\n      authUrl.searchParams.set(\"project_id\", this.config.projectId);\n    }\n    window.location.href = authUrl.toString();\n  }\n  /**\n   * Logout and clear stored tokens\n   */\n  logout(redirectUrl) {\n    this.clearTokens();\n    if (redirectUrl && hasWindowLocation()) {\n      window.location.href = redirectUrl;\n    }\n  }\n  /**\n   * Check if user is authenticated\n   */\n  isAuthenticated() {\n    return this.authState.isAuthenticated;\n  }\n  /**\n   * Get current user (sync)\n   */\n  currentUser() {\n    return this.authState.user;\n  }\n  /**\n   * Get current access token\n   */\n  getToken() {\n    return this.authState.tokens?.access_token || null;\n  }\n  /**\n   * Check if access token is expired based on timestamp\n   */\n  isAccessTokenExpired() {\n    const tokens = this.authState.tokens;\n    if (!tokens || !tokens.issued_at) {\n      return true;\n    }\n    const now = Math.floor(Date.now() / 1e3);\n    const expiresAt = tokens.issued_at + tokens.expires_in;\n    const bufferTime = 30;\n    return now >= expiresAt - bufferTime;\n  }\n  /**\n   * Check if refresh token is expired based on timestamp\n   */\n  isRefreshTokenExpired() {\n    const tokens = this.authState.tokens;\n    if (!tokens || !tokens.refresh_token || !tokens.issued_at || !tokens.refresh_expires_in) {\n      return true;\n    }\n    const now = Math.floor(Date.now() / 1e3);\n    const expiresAt = tokens.issued_at + tokens.refresh_expires_in;\n    return now >= expiresAt;\n  }\n  /**\n   * Get a valid access token, refreshing if necessary\n   */\n  async getValidToken() {\n    const tokens = this.authState.tokens;\n    if (!tokens) {\n      return null;\n    }\n    if (!this.isAccessTokenExpired()) {\n      console.log(\"\\u2705 Access token is still valid\");\n      return tokens.access_token;\n    }\n    console.log(\"\\u23F0 Access token expired, attempting refresh...\");\n    if (this.isRefreshTokenExpired()) {\n      console.log(\"\\u274C Refresh token also expired, clearing tokens\");\n      this.clearTokens();\n      if (this.config.authRequired) {\n        this.redirectToAuth();\n      }\n      return null;\n    }\n    const refreshed = await this.refreshToken();\n    if (refreshed) {\n      console.log(\"\\u2705 Token refreshed successfully\");\n      return this.authState.tokens?.access_token || null;\n    } else {\n      console.log(\"\\u274C Token refresh failed\");\n      this.clearTokens();\n      if (this.config.authRequired) {\n        this.redirectToAuth();\n      }\n      return null;\n    }\n  }\n  /**\n   * Fetch current user profile from API\n   * Gracefully waits for auth initialization to complete before throwing errors\n   */\n  async me() {\n    await this.waitForInitialization();\n    if (this.authState.isAuthenticated && this.authState.user) {\n      return this.authState.user;\n    }\n    if (!this.authState.isAuthenticated) {\n      return new Promise((resolve, reject) => {\n        if (this.authState.user) {\n          resolve(this.authState.user);\n          return;\n        }\n        const timeout = setTimeout(() => {\n          unsubscribe();\n          reject(new BlinkAuthError(\"AUTH_TIMEOUT\" /* AUTH_TIMEOUT */, \"Authentication timeout - no user available\"));\n        }, 5e3);\n        const unsubscribe = this.onAuthStateChanged((state) => {\n          if (state.user) {\n            clearTimeout(timeout);\n            unsubscribe();\n            resolve(state.user);\n          } else if (!state.isLoading && !state.isAuthenticated) {\n            clearTimeout(timeout);\n            unsubscribe();\n            reject(new BlinkAuthError(\"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */, \"Not authenticated\"));\n          }\n        });\n      });\n    }\n    let token = this.getToken();\n    if (!token) {\n      throw new BlinkAuthError(\"TOKEN_EXPIRED\" /* TOKEN_EXPIRED */, \"No access token available\");\n    }\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/me`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        if (response.status === 401) {\n          const refreshed = await this.refreshToken();\n          if (refreshed) {\n            token = this.getToken();\n            if (token) {\n              const retryResponse = await fetch(`${this.authUrl}/api/auth/me`, {\n                headers: {\n                  \"Authorization\": `Bearer ${token}`\n                }\n              });\n              if (retryResponse.ok) {\n                const retryData = await retryResponse.json();\n                const user2 = retryData.user;\n                this.updateAuthState({\n                  ...this.authState,\n                  user: user2\n                });\n                return user2;\n              }\n            }\n          }\n          this.clearTokens();\n          if (this.config.authRequired) {\n            this.redirectToAuth();\n          }\n        }\n        const errorData = await response.json().catch(() => ({}));\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || `Failed to fetch user: ${response.statusText}`);\n      }\n      const data = await response.json();\n      const user = data.user;\n      this.updateAuthState({\n        ...this.authState,\n        user\n      });\n      return user;\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Sign up with email and password (headless mode)\n   */\n  async signUp(data) {\n    if (this.authConfig.mode !== \"headless\") {\n      throw new BlinkAuthError(\"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */, \"signUp is only available in headless mode\");\n    }\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/signup`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ...data,\n          projectId: this.config.projectId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || \"Sign up failed\");\n      }\n      const result = await response.json();\n      await this.setTokens({\n        access_token: result.access_token,\n        refresh_token: result.refresh_token,\n        token_type: result.token_type,\n        expires_in: result.expires_in,\n        refresh_expires_in: result.refresh_expires_in\n      }, true);\n      return result.user;\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Sign in with email and password (headless mode)\n   */\n  async signInWithEmail(email, password) {\n    if (this.authConfig.mode !== \"headless\") {\n      throw new BlinkAuthError(\"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */, \"signInWithEmail is only available in headless mode\");\n    }\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/signin/email`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          password,\n          projectId: this.config.projectId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || \"Sign in failed\");\n      }\n      const result = await response.json();\n      await this.setTokens({\n        access_token: result.access_token,\n        refresh_token: result.refresh_token,\n        token_type: result.token_type,\n        expires_in: result.expires_in,\n        refresh_expires_in: result.refresh_expires_in\n      }, true);\n      return result.user;\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Sign in with Google (headless mode)\n   * \n   * **Universal OAuth** - Works on both Web and React Native!\n   * \n   * On React Native, requires `webBrowser` to be configured in client:\n   * ```typescript\n   * const blink = createClient({\n   *   auth: { mode: 'headless', webBrowser: WebBrowser }\n   * })\n   * await blink.auth.signInWithGoogle() // Works on both platforms!\n   * ```\n   */\n  async signInWithGoogle(options) {\n    if (this.authConfig.mode !== \"headless\") {\n      throw new BlinkAuthError(\"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */, \"signInWithGoogle is only available in headless mode\");\n    }\n    return this.signInWithProvider(\"google\", options);\n  }\n  /**\n   * Sign in with GitHub (headless mode)\n   * \n   * **Universal OAuth** - Works on both Web and React Native!\n   * See signInWithGoogle() for setup instructions.\n   */\n  async signInWithGitHub(options) {\n    if (this.authConfig.mode !== \"headless\") {\n      throw new BlinkAuthError(\"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */, \"signInWithGitHub is only available in headless mode\");\n    }\n    return this.signInWithProvider(\"github\", options);\n  }\n  /**\n   * Sign in with Apple (headless mode)\n   * \n   * **Universal OAuth** - Works on both Web and React Native!\n   * See signInWithGoogle() for setup instructions.\n   */\n  async signInWithApple(options) {\n    if (this.authConfig.mode !== \"headless\") {\n      throw new BlinkAuthError(\"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */, \"signInWithApple is only available in headless mode\");\n    }\n    return this.signInWithProvider(\"apple\", options);\n  }\n  /**\n   * Sign in with Microsoft (headless mode)\n   * \n   * **Universal OAuth** - Works on both Web and React Native!\n   * See signInWithGoogle() for setup instructions.\n   */\n  async signInWithMicrosoft(options) {\n    if (this.authConfig.mode !== \"headless\") {\n      throw new BlinkAuthError(\"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */, \"signInWithMicrosoft is only available in headless mode\");\n    }\n    return this.signInWithProvider(\"microsoft\", options);\n  }\n  /**\n   * Initiate OAuth for mobile without deep linking (expo-web-browser pattern)\n   * \n   * This method:\n   * 1. Generates a unique session ID\n   * 2. Returns OAuth URL with session parameter\n   * 3. App opens URL in expo-web-browser\n   * 4. App polls checkMobileOAuthSession() until complete\n   * \n   * @param provider - OAuth provider (google, github, apple, etc.)\n   * @param options - Optional metadata\n   * @returns Session ID and OAuth URL\n   * \n   * @example\n   * // React Native with expo-web-browser\n   * import * as WebBrowser from 'expo-web-browser';\n   * \n   * const { sessionId, authUrl } = await blink.auth.initiateMobileOAuth('google');\n   * \n   * // Open browser\n   * await WebBrowser.openAuthSessionAsync(authUrl);\n   * \n   * // Poll for completion\n   * const user = await blink.auth.pollMobileOAuthSession(sessionId);\n   * console.log('Authenticated:', user.email);\n   */\n  async initiateMobileOAuth(provider, options) {\n    if (this.authConfig.mode !== \"headless\") {\n      throw new BlinkAuthError(\n        \"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */,\n        \"initiateMobileOAuth is only available in headless mode\"\n      );\n    }\n    const sessionId = this.generateSessionId();\n    const authUrl = new URL(\"/auth\", this.authUrl);\n    authUrl.searchParams.set(\"provider\", provider);\n    authUrl.searchParams.set(\"project_id\", this.config.projectId);\n    authUrl.searchParams.set(\"mode\", \"mobile-session\");\n    authUrl.searchParams.set(\"session_id\", sessionId);\n    if (options?.metadata) {\n      authUrl.searchParams.set(\"metadata\", JSON.stringify(options.metadata));\n    }\n    return {\n      sessionId,\n      authUrl: authUrl.toString()\n    };\n  }\n  /**\n   * Check mobile OAuth session status (single check)\n   * \n   * @param sessionId - Session ID from initiateMobileOAuth\n   * @returns Tokens if session is complete, null if still pending\n   */\n  async checkMobileOAuthSession(sessionId) {\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/mobile-session/${sessionId}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.status === 404 || response.status === 202) {\n        return null;\n      }\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(\n          errorCode,\n          errorData.error || \"Failed to check OAuth session\"\n        );\n      }\n      const data = await response.json();\n      return {\n        access_token: data.access_token,\n        refresh_token: data.refresh_token,\n        token_type: data.token_type || \"Bearer\",\n        expires_in: data.expires_in || 3600,\n        refresh_expires_in: data.refresh_expires_in\n      };\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\n        \"NETWORK_ERROR\" /* NETWORK_ERROR */,\n        `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`\n      );\n    }\n  }\n  /**\n   * Poll mobile OAuth session until complete (convenience method)\n   * \n   * @param sessionId - Session ID from initiateMobileOAuth\n   * @param options - Polling options\n   * @returns Authenticated user\n   * \n   * @example\n   * const { sessionId, authUrl } = await blink.auth.initiateMobileOAuth('google');\n   * await WebBrowser.openAuthSessionAsync(authUrl);\n   * const user = await blink.auth.pollMobileOAuthSession(sessionId, {\n   *   maxAttempts: 60,\n   *   intervalMs: 1000\n   * });\n   */\n  async pollMobileOAuthSession(sessionId, options) {\n    const maxAttempts = options?.maxAttempts || 60;\n    const intervalMs = options?.intervalMs || 1e3;\n    for (let attempt = 0; attempt < maxAttempts; attempt++) {\n      const tokens = await this.checkMobileOAuthSession(sessionId);\n      if (tokens) {\n        await this.setTokens(tokens, true);\n        return this.authState.user;\n      }\n      await new Promise((resolve) => setTimeout(resolve, intervalMs));\n    }\n    throw new BlinkAuthError(\n      \"AUTH_TIMEOUT\" /* AUTH_TIMEOUT */,\n      \"Mobile OAuth session timed out\"\n    );\n  }\n  /**\n   * Sign in with OAuth provider using expo-web-browser (React Native)\n   * \n   * This is a convenience method that handles the entire flow:\n   * 1. Initiates mobile OAuth session\n   * 2. Returns auth URL to open in WebBrowser\n   * 3. Provides polling function to call after browser opens\n   * \n   * @param provider - OAuth provider\n   * @returns Object with authUrl and authenticate function\n   * \n   * @example\n   * import * as WebBrowser from 'expo-web-browser';\n   * \n   * const { authUrl, authenticate } = await blink.auth.signInWithProviderMobile('google');\n   * \n   * // Open browser\n   * await WebBrowser.openAuthSessionAsync(authUrl);\n   * \n   * // Wait for authentication\n   * const user = await authenticate();\n   */\n  async signInWithProviderMobile(provider, options) {\n    const { sessionId, authUrl } = await this.initiateMobileOAuth(provider, options);\n    return {\n      authUrl,\n      authenticate: () => this.pollMobileOAuthSession(sessionId, {\n        maxAttempts: 60,\n        intervalMs: 1e3\n      })\n    };\n  }\n  /**\n   * Universal OAuth flow using session-based authentication (internal)\n   * Works on ALL platforms: Web, iOS, Android\n   * Uses expo-web-browser to open auth URL and polls for completion\n   */\n  async signInWithProviderUniversal(provider, options) {\n    const webBrowser = this.authConfig.webBrowser;\n    if (!webBrowser) {\n      throw new BlinkAuthError(\n        \"NETWORK_ERROR\" /* NETWORK_ERROR */,\n        \"webBrowser module is required for universal OAuth flow\"\n      );\n    }\n    const { sessionId, authUrl } = await this.initiateMobileOAuth(provider, options);\n    console.log(\"\\u{1F510} Opening OAuth browser for\", provider);\n    const browserPromise = webBrowser.openAuthSessionAsync(authUrl);\n    const raceResult = await Promise.race([\n      browserPromise.then((result) => ({ closed: true, result })).catch((err) => ({ closed: true, error: err })),\n      new Promise(\n        (resolve) => setTimeout(() => resolve({ closed: false }), 5e3)\n      )\n    ]);\n    if (raceResult.closed) {\n      if (\"result\" in raceResult) {\n        console.log(\"\\u{1F510} Browser closed with result:\", raceResult.result.type);\n      } else {\n        console.log(\"\\u{1F510} Browser closed with error\");\n      }\n    } else {\n      console.log(\"\\u{1F510} Browser still open (new tab/stuck popup), starting to poll...\");\n    }\n    const user = await this.pollMobileOAuthSession(sessionId, {\n      maxAttempts: 120,\n      // 60 seconds (give user time to complete auth)\n      intervalMs: 500\n    });\n    console.log(\"\\u2705 OAuth completed successfully\");\n    return user;\n  }\n  /**\n   * Generic provider sign-in method (headless mode)\n   * \n   * **Universal OAuth** - Works seamlessly on both Web and React Native!\n   * \n   * When `webBrowser` is configured in the client, this method automatically\n   * uses the session-based OAuth flow that works on ALL platforms.\n   * \n   * **Universal Setup (configure once, works everywhere):**\n   * ```typescript\n   * import * as WebBrowser from 'expo-web-browser'\n   * import AsyncStorage from '@react-native-async-storage/async-storage'\n   * \n   * const blink = createClient({\n   *   projectId: 'your-project',\n   *   auth: {\n   *     mode: 'headless',\n   *     webBrowser: WebBrowser  // Pass the module here\n   *   },\n   *   storage: new AsyncStorageAdapter(AsyncStorage)\n   * })\n   * \n   * // Now this works on ALL platforms - no platform checks needed!\n   * const user = await blink.auth.signInWithGoogle()\n   * ```\n   * \n   * @param provider - OAuth provider (google, github, apple, etc.)\n   * @param options - Optional redirect URL and metadata\n   * @returns Promise that resolves with authenticated user\n   */\n  async signInWithProvider(provider, options) {\n    if (this.authConfig.mode !== \"headless\") {\n      throw new BlinkAuthError(\"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */, \"signInWithProvider is only available in headless mode\");\n    }\n    if (this.authConfig.webBrowser) {\n      return this.signInWithProviderUniversal(provider, options);\n    }\n    if (isReactNative2()) {\n      throw new BlinkAuthError(\n        \"NETWORK_ERROR\" /* NETWORK_ERROR */,\n        'React Native OAuth requires webBrowser in config!\\n\\nimport * as WebBrowser from \"expo-web-browser\";\\n\\nconst blink = createClient({\\n  projectId: \"your-project\",\\n  auth: {\\n    mode: \"headless\",\\n    webBrowser: WebBrowser\\n  }\\n})\\n\\nawait blink.auth.signInWithGoogle() // Works on all platforms!'\n      );\n    }\n    if (!hasWindow()) {\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, \"signInWithProvider requires a browser environment\");\n    }\n    const shouldPreferRedirect = isWeb && this.isIframe || typeof window !== \"undefined\" && window.crossOriginIsolated === true;\n    const state = this.generateState();\n    try {\n      const sessionStorage = getSessionStorage();\n      if (sessionStorage) {\n        sessionStorage.setItem(\"blink_oauth_state\", state);\n      }\n    } catch {\n    }\n    const redirectUrl = options?.redirectUrl || getLocationOrigin() || \"\";\n    const buildAuthUrl = (mode) => {\n      const url = new URL(\"/auth\", this.authUrl);\n      url.searchParams.set(\"provider\", provider);\n      url.searchParams.set(\"project_id\", this.config.projectId);\n      url.searchParams.set(\"state\", state);\n      url.searchParams.set(\"mode\", mode);\n      url.searchParams.set(\"redirect_url\", redirectUrl);\n      url.searchParams.set(\"opener_origin\", getLocationOrigin() || \"\");\n      return url;\n    };\n    if (shouldPreferRedirect) {\n      window.location.href = buildAuthUrl(\"redirect\").toString();\n      return new Promise(() => {\n      });\n    }\n    return new Promise((resolve, reject) => {\n      const popupUrl = buildAuthUrl(\"popup\");\n      const popup = window.open(\n        popupUrl.toString(),\n        \"blink-auth\",\n        \"width=500,height=600,scrollbars=yes,resizable=yes\"\n      );\n      if (!popup) {\n        reject(new BlinkAuthError(\"POPUP_CANCELED\" /* POPUP_CANCELED */, \"Popup was blocked\"));\n        return;\n      }\n      let timeoutId;\n      let closedIntervalId;\n      let cleanedUp = false;\n      const cleanup = () => {\n        if (cleanedUp) return;\n        cleanedUp = true;\n        clearTimeout(timeoutId);\n        if (closedIntervalId) clearInterval(closedIntervalId);\n        window.removeEventListener(\"message\", messageListener);\n      };\n      const messageListener = (event) => {\n        let allowed = false;\n        try {\n          const authOrigin = new URL(this.authUrl).origin;\n          if (event.origin === authOrigin) allowed = true;\n        } catch {\n        }\n        if (event.origin === \"http://localhost:3000\" || event.origin === \"http://localhost:3001\") allowed = true;\n        if (!allowed) return;\n        if (event.data?.type === \"BLINK_AUTH_TOKENS\") {\n          const { access_token, refresh_token, token_type, expires_in, refresh_expires_in, projectId, state: returnedState } = event.data;\n          try {\n            const sessionStorage = getSessionStorage();\n            const expected = sessionStorage?.getItem(\"blink_oauth_state\");\n            if (returnedState && expected && returnedState !== expected) {\n              reject(new BlinkAuthError(\"VERIFICATION_FAILED\" /* VERIFICATION_FAILED */, \"State mismatch\"));\n              clearTimeout(timeoutId);\n              window.removeEventListener(\"message\", messageListener);\n              popup.close();\n              return;\n            }\n          } catch {\n          }\n          if (projectId !== this.config.projectId) {\n            reject(new BlinkAuthError(\"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */, \"Project ID mismatch\"));\n            return;\n          }\n          this.setTokens({\n            access_token,\n            refresh_token,\n            token_type,\n            expires_in,\n            refresh_expires_in\n          }, true).then(() => {\n            resolve(this.authState.user);\n          }).catch(reject);\n          cleanup();\n          popup.close();\n        } else if (event.data?.type === \"BLINK_AUTH_ERROR\") {\n          const errorCode = this.mapErrorCodeFromResponse(event.data.code);\n          reject(new BlinkAuthError(errorCode, event.data.message || \"Authentication failed\"));\n          cleanup();\n          popup.close();\n        }\n      };\n      if (popup.opener === null) {\n        try {\n          popup.close();\n        } catch {\n        }\n        cleanup();\n        window.location.href = buildAuthUrl(\"redirect\").toString();\n        return;\n      }\n      timeoutId = setTimeout(() => {\n        cleanup();\n        if (!popup.closed) {\n          popup.close();\n        }\n        reject(new BlinkAuthError(\"AUTH_TIMEOUT\" /* AUTH_TIMEOUT */, \"Authentication timed out\"));\n      }, 3e5);\n      closedIntervalId = setInterval(() => {\n        if (popup.closed) {\n          cleanup();\n          reject(new BlinkAuthError(\"POPUP_CANCELED\" /* POPUP_CANCELED */, \"Authentication was canceled\"));\n        }\n      }, 1e3);\n      window.addEventListener(\"message\", messageListener);\n    });\n  }\n  /**\n   * Generate password reset token (for custom email delivery)\n   */\n  async generatePasswordResetToken(email) {\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/password/reset/generate`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          projectId: this.config.projectId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(\n          errorCode,\n          errorData.error || \"Failed to generate password reset token\",\n          errorData.error\n        );\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\n        \"NETWORK_ERROR\" /* NETWORK_ERROR */,\n        \"Failed to generate password reset token\",\n        \"Network error occurred\"\n      );\n    }\n  }\n  /**\n   * Send password reset email (using Blink default email service)\n   */\n  async sendPasswordResetEmail(email, options) {\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/password/reset`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          projectId: this.config.projectId,\n          redirectUrl: options?.redirectUrl\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || \"Failed to send password reset email\");\n      }\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Confirm password reset with token\n   */\n  async confirmPasswordReset(token, newPassword) {\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/password/reset/confirm`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          token,\n          password: newPassword,\n          projectId: this.config.projectId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || \"Failed to reset password\");\n      }\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Change password (requires current authentication)\n   */\n  async changePassword(oldPassword, newPassword) {\n    const token = await this.getValidToken();\n    if (!token) {\n      throw new BlinkAuthError(\"TOKEN_EXPIRED\" /* TOKEN_EXPIRED */, \"No access token available\");\n    }\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/password/change`, {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          oldPassword,\n          newPassword\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || \"Failed to change password\");\n      }\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Generate email verification token (for custom email delivery)\n   */\n  async generateEmailVerificationToken() {\n    const token = await this.getValidToken();\n    if (!token) {\n      throw new BlinkAuthError(\"TOKEN_EXPIRED\" /* TOKEN_EXPIRED */, \"No access token available\");\n    }\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/email/verify/generate`, {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(\n          errorCode,\n          errorData.error || \"Failed to generate email verification token\",\n          errorData.error\n        );\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\n        \"NETWORK_ERROR\" /* NETWORK_ERROR */,\n        \"Failed to generate email verification token\",\n        \"Network error occurred\"\n      );\n    }\n  }\n  /**\n   * Send email verification (using Blink default email service)\n   */\n  async sendEmailVerification() {\n    const token = await this.getValidToken();\n    if (!token) {\n      throw new BlinkAuthError(\"TOKEN_EXPIRED\" /* TOKEN_EXPIRED */, \"No access token available\");\n    }\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/email/verify/send`, {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || \"Failed to send verification email\");\n      }\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Verify email with token\n   */\n  async verifyEmail(token) {\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/email/verify`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          token,\n          projectId: this.config.projectId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || \"Failed to verify email\");\n      }\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Generate magic link token (for custom email delivery)\n   */\n  async generateMagicLinkToken(email, options) {\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/signin/magic/generate`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          redirectUrl: options?.redirectUrl,\n          projectId: this.config.projectId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(\n          errorCode,\n          errorData.error || \"Failed to generate magic link token\",\n          errorData.error\n        );\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\n        \"NETWORK_ERROR\" /* NETWORK_ERROR */,\n        \"Failed to generate magic link token\",\n        \"Network error occurred\"\n      );\n    }\n  }\n  /**\n   * Send magic link (using Blink default email service)\n   */\n  async sendMagicLink(email, options) {\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/signin/magic`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          redirectUrl: options?.redirectUrl,\n          projectId: this.config.projectId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || \"Failed to send magic link\");\n      }\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Verify magic link (automatic on redirect)\n   */\n  async verifyMagicLink(token) {\n    const magicToken = token || this.extractMagicTokenFromUrl();\n    if (!magicToken) {\n      throw new BlinkAuthError(\"VERIFICATION_FAILED\" /* VERIFICATION_FAILED */, \"No magic link token found\");\n    }\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/signin/magic/verify`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          token: magicToken,\n          projectId: this.config.projectId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || \"Magic link verification failed\");\n      }\n      const result = await response.json();\n      await this.setTokens({\n        access_token: result.access_token,\n        refresh_token: result.refresh_token,\n        token_type: result.token_type,\n        expires_in: result.expires_in,\n        refresh_expires_in: result.refresh_expires_in\n      }, true);\n      return result.user;\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Get available providers for the current project\n   */\n  async getAvailableProviders() {\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/providers?projectId=${encodeURIComponent(this.config.projectId)}`);\n      if (!response.ok) {\n        return [\"email\", \"google\"];\n      }\n      const data = await response.json();\n      return data.providers || [\"email\", \"google\"];\n    } catch (error) {\n      return [\"email\", \"google\"];\n    }\n  }\n  /**\n   * Check if user has a specific role\n   */\n  hasRole(role) {\n    const user = this.authState.user;\n    if (!user || !user.role) {\n      return false;\n    }\n    if (Array.isArray(role)) {\n      return role.includes(user.role);\n    }\n    return user.role === role;\n  }\n  /**\n   * Check if user can perform a specific action\n   */\n  can(permission, resource) {\n    const user = this.authState.user;\n    if (!user || !user.role) {\n      return false;\n    }\n    const roles = this.authConfig.roles;\n    if (!roles) {\n      return false;\n    }\n    const roleConfig = roles[user.role];\n    if (!roleConfig) {\n      return false;\n    }\n    if (roleConfig.permissions.includes(\"*\")) {\n      return true;\n    }\n    const fullPermission = resource ? `${permission}.${resource}` : permission;\n    if (roleConfig.permissions.includes(fullPermission)) {\n      return true;\n    }\n    if (roleConfig.permissions.includes(permission)) {\n      return true;\n    }\n    const visited = /* @__PURE__ */ new Set();\n    const hasPermissionInRole = (roleName) => {\n      if (visited.has(roleName)) return false;\n      visited.add(roleName);\n      const rc = roles[roleName];\n      if (!rc) return false;\n      if (rc.permissions.includes(\"*\")) return true;\n      const fullPermission2 = resource ? `${permission}.${resource}` : permission;\n      if (rc.permissions.includes(fullPermission2) || rc.permissions.includes(permission)) return true;\n      if (rc.inherit) {\n        for (const parent of rc.inherit) {\n          if (hasPermissionInRole(parent)) return true;\n        }\n      }\n      return false;\n    };\n    if (hasPermissionInRole(user.role)) return true;\n    return false;\n  }\n  /**\n   * Sign out (clear local tokens)\n   * Note: With stateless tokens, this only clears local storage\n   */\n  async signOut() {\n    this.clearTokens();\n  }\n  /**\n   * @deprecated Use signOut() instead. Kept for backward compatibility.\n   */\n  async revokeAllSessions() {\n    return this.signOut();\n  }\n  /**\n   * Recover auth state (clear corrupted tokens and re-initialize)\n   */\n  async recoverAuthState() {\n    console.log(\"\\u{1F504} Recovering auth state...\");\n    this.clearTokens();\n    this.isInitialized = false;\n    this.initializationPromise = null;\n    if (typeof window !== \"undefined\") {\n      this.initializationPromise = this.initialize();\n      await this.initializationPromise;\n    }\n    console.log(\"\\u2705 Auth state recovery complete\");\n  }\n  /**\n   * Update user profile\n   */\n  async updateMe(updates) {\n    const token = this.getToken();\n    if (!token) {\n      throw new BlinkAuthError(\"TOKEN_EXPIRED\" /* TOKEN_EXPIRED */, \"No access token available\");\n    }\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/me`, {\n        method: \"PATCH\",\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(updates)\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        const errorCode = this.mapErrorCodeFromResponse(errorData.code);\n        throw new BlinkAuthError(errorCode, errorData.error || `Failed to update user: ${response.statusText}`);\n      }\n      const data = await response.json();\n      const user = data.user;\n      this.updateAuthState({\n        ...this.authState,\n        user\n      });\n      return user;\n    } catch (error) {\n      if (error instanceof BlinkAuthError) {\n        throw error;\n      }\n      throw new BlinkAuthError(\"NETWORK_ERROR\" /* NETWORK_ERROR */, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n  }\n  /**\n   * Manually set tokens (for server-side usage)\n   */\n  async setToken(jwt, persist = false) {\n    const tokens = {\n      access_token: jwt,\n      token_type: \"Bearer\",\n      expires_in: 15 * 60\n      // Default 15 minutes\n    };\n    await this.setTokens(tokens, persist);\n  }\n  /**\n   * Manually set auth session from tokens (React Native deep link OAuth)\n   * \n   * Use this method to set the user session after receiving tokens from a deep link callback.\n   * This is the React Native equivalent of automatic URL token detection on web.\n   * \n   * @param tokens - Auth tokens received from deep link or OAuth callback\n   * @param persist - Whether to persist tokens to storage (default: true)\n   * \n   * @example\n   * // React Native: Handle deep link OAuth callback\n   * import * as Linking from 'expo-linking'\n   * \n   * Linking.addEventListener('url', async ({ url }) => {\n   *   const { queryParams } = Linking.parse(url)\n   *   \n   *   if (queryParams.access_token) {\n   *     await blink.auth.setSession({\n   *       access_token: queryParams.access_token,\n   *       refresh_token: queryParams.refresh_token,\n   *       expires_in: parseInt(queryParams.expires_in) || 3600,\n   *       refresh_expires_in: parseInt(queryParams.refresh_expires_in)\n   *     })\n   *     \n   *     console.log('User authenticated:', blink.auth.currentUser())\n   *   }\n   * })\n   */\n  async setSession(tokens, persist = true) {\n    const authTokens = {\n      access_token: tokens.access_token,\n      refresh_token: tokens.refresh_token,\n      token_type: \"Bearer\",\n      expires_in: tokens.expires_in || 3600,\n      // Default 1 hour\n      refresh_expires_in: tokens.refresh_expires_in,\n      issued_at: Math.floor(Date.now() / 1e3)\n    };\n    await this.setTokens(authTokens, persist);\n    const user = await this.me();\n    return user;\n  }\n  /**\n   * Verify a Blink Auth token using the introspection endpoint.\n   * \n   * **Server-side / Edge Function use only.**\n   * \n   * This is the recommended way to verify user tokens in Deno Edge Functions\n   * and other server-side contexts. It calls the Blink API introspection \n   * endpoint which validates the token without exposing the JWT secret.\n   * \n   * @param token - The raw JWT token (without \"Bearer \" prefix) or full Authorization header\n   * @returns Token introspection result with validity and claims\n   * \n   * @example\n   * // Deno Edge Function usage\n   * import { createClient } from \"npm:@blinkdotnew/sdk\";\n   * \n   * const blink = createClient({\n   *   projectId: Deno.env.get(\"BLINK_PROJECT_ID\")!,\n   *   secretKey: Deno.env.get(\"BLINK_SECRET_KEY\"),\n   * });\n   * \n   * async function handler(req: Request): Promise<Response> {\n   *   const authHeader = req.headers.get(\"Authorization\");\n   *   const result = await blink.auth.verifyToken(authHeader);\n   *   \n   *   if (!result.valid) {\n   *     return new Response(JSON.stringify({ error: result.error }), { status: 401 });\n   *   }\n   *   \n   *   // User is authenticated\n   *   console.log(\"User ID:\", result.userId);\n   *   console.log(\"Email:\", result.email);\n   *   console.log(\"Project:\", result.projectId);\n   *   \n   *   // Continue with your logic...\n   * }\n   */\n  async verifyToken(token) {\n    if (!token) {\n      return { valid: false, error: \"Token required\" };\n    }\n    let cleanToken = token.toLowerCase().startsWith(\"bearer \") ? token.slice(7) : token;\n    cleanToken = cleanToken.trim();\n    if (!cleanToken) {\n      return { valid: false, error: \"Token required\" };\n    }\n    try {\n      const response = await fetch(`${this.coreUrl}/api/auth/introspect`, {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${cleanToken}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const contentType = response.headers.get(\"content-type\")?.toLowerCase();\n      if (!contentType || !contentType.includes(\"application/json\")) {\n        return {\n          valid: false,\n          error: `Server error: ${response.status} ${response.statusText}`\n        };\n      }\n      const result = await response.json();\n      if (!result || typeof result !== \"object\" || typeof result.valid !== \"boolean\") {\n        return {\n          valid: false,\n          error: result && (result.error || result.message) || `Request failed: ${response.status}`\n        };\n      }\n      return result;\n    } catch (error) {\n      console.error(\"[BlinkAuth] Token verification failed:\", error);\n      return {\n        valid: false,\n        error: error instanceof Error ? error.message : \"Token verification failed\"\n      };\n    }\n  }\n  /**\n   * Refresh access token using refresh token\n   */\n  async refreshToken() {\n    const refreshToken = this.authState.tokens?.refresh_token;\n    if (!refreshToken) {\n      return false;\n    }\n    try {\n      const response = await fetch(`${this.authUrl}/api/auth/refresh`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          refresh_token: refreshToken\n        })\n      });\n      if (!response.ok) {\n        if (response.status === 401) {\n          this.clearTokens();\n          if (this.config.authRequired) {\n            this.redirectToAuth();\n          }\n        }\n        return false;\n      }\n      const data = await response.json();\n      await this.setTokens({\n        access_token: data.access_token,\n        refresh_token: data.refresh_token,\n        token_type: data.token_type,\n        expires_in: data.expires_in,\n        refresh_expires_in: data.refresh_expires_in\n      }, true);\n      return true;\n    } catch (error) {\n      console.error(\"Token refresh failed:\", error);\n      return false;\n    }\n  }\n  /**\n   * Add auth state change listener\n   */\n  onAuthStateChanged(callback) {\n    this.listeners.add(callback);\n    queueMicrotask(() => {\n      try {\n        callback(this.authState);\n      } catch (error) {\n        console.error(\"Error in auth state change callback:\", error);\n      }\n    });\n    return () => {\n      this.listeners.delete(callback);\n    };\n  }\n  /**\n   * Private helper methods\n   */\n  async validateStoredTokens(tokens) {\n    try {\n      console.log(\"\\u{1F50D} Validating stored tokens...\");\n      if (this.isAccessTokenExpired()) {\n        console.log(\"\\u23F0 Access token expired based on timestamp, attempting refresh...\");\n        if (!tokens.refresh_token) {\n          console.log(\"\\u274C No refresh token available\");\n          return false;\n        }\n        if (this.isRefreshTokenExpired()) {\n          console.log(\"\\u274C Refresh token also expired\");\n          return false;\n        }\n        const refreshed = await this.refreshToken();\n        if (refreshed) {\n          console.log(\"\\u2705 Token refreshed successfully during validation\");\n          return true;\n        } else {\n          console.log(\"\\u274C Token refresh failed during validation\");\n          return false;\n        }\n      }\n      const response = await fetch(`${this.authUrl}/api/auth/me`, {\n        headers: {\n          \"Authorization\": `Bearer ${tokens.access_token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const user = data.user;\n        this.updateAuthState({\n          user,\n          tokens,\n          isAuthenticated: true,\n          isLoading: false\n        });\n        console.log(\"\\u2705 Stored tokens are valid, user authenticated\");\n        return true;\n      } else if (response.status === 401 && tokens.refresh_token) {\n        console.log(\"\\u{1F504} Access token expired (server validation), attempting refresh...\");\n        if (this.isRefreshTokenExpired()) {\n          console.log(\"\\u274C Refresh token expired\");\n          return false;\n        }\n        const refreshed = await this.refreshToken();\n        if (refreshed) {\n          console.log(\"\\u2705 Token refreshed successfully after server validation\");\n          return true;\n        } else {\n          console.log(\"\\u274C Token refresh failed after server validation\");\n          return false;\n        }\n      } else {\n        console.log(\"\\u274C Token validation failed:\", response.status, response.statusText);\n        return false;\n      }\n    } catch (error) {\n      console.log(\"\\u{1F4A5} Error validating tokens:\", error);\n      return false;\n    }\n  }\n  async setTokens(tokens, persist) {\n    const tokensWithTimestamp = {\n      ...tokens,\n      issued_at: tokens.issued_at || Math.floor(Date.now() / 1e3)\n    };\n    console.log(\"\\u{1F510} Setting tokens:\", {\n      persist,\n      hasAccessToken: !!tokensWithTimestamp.access_token,\n      hasRefreshToken: !!tokensWithTimestamp.refresh_token,\n      expiresIn: tokensWithTimestamp.expires_in,\n      issuedAt: tokensWithTimestamp.issued_at\n    });\n    if (persist) {\n      try {\n        const result = this.storage.setItem(\n          this.getStorageKey(\"tokens\"),\n          JSON.stringify(tokensWithTimestamp)\n        );\n        if (result instanceof Promise) {\n          await result;\n        }\n        console.log(\"\\u{1F4BE} Tokens persisted to storage\");\n      } catch (error) {\n        console.log(\"\\u{1F4A5} Error persisting tokens:\", error);\n      }\n    }\n    let user = null;\n    try {\n      console.log(\"\\u{1F464} Fetching user data...\");\n      const response = await fetch(`${this.authUrl}/api/auth/me`, {\n        headers: {\n          \"Authorization\": `Bearer ${tokensWithTimestamp.access_token}`\n        }\n      });\n      console.log(\"\\u{1F4E1} User fetch response:\", {\n        status: response.status,\n        statusText: response.statusText,\n        ok: response.ok\n      });\n      if (response.ok) {\n        const data = await response.json();\n        user = data.user;\n        console.log(\"\\u2705 User data fetched successfully:\", {\n          id: user?.id,\n          email: user?.email,\n          displayName: user?.displayName\n        });\n      } else {\n        console.log(\"\\u274C Failed to fetch user data:\", await response.text());\n      }\n    } catch (error) {\n      console.log(\"\\u{1F4A5} Error fetching user data:\", error);\n    }\n    this.updateAuthState({\n      user,\n      tokens: tokensWithTimestamp,\n      isAuthenticated: !!user,\n      isLoading: false\n    });\n    console.log(\"\\u{1F3AF} Auth state updated:\", {\n      hasUser: !!user,\n      isAuthenticated: !!user,\n      isLoading: false\n    });\n  }\n  clearTokens() {\n    try {\n      const result = this.storage.removeItem(this.getStorageKey(\"tokens\"));\n      if (result instanceof Promise) {\n        result.catch((error) => {\n          console.log(\"\\u{1F4A5} Error clearing tokens from storage:\", error);\n        });\n      }\n    } catch (error) {\n      console.log(\"\\u{1F4A5} Error clearing tokens:\", error);\n    }\n    this.updateAuthState({\n      user: null,\n      tokens: null,\n      isAuthenticated: false,\n      isLoading: false\n    });\n  }\n  async getStoredTokens() {\n    if (isWeb && this.isIframe && this.parentWindowTokens) {\n      return this.parentWindowTokens;\n    }\n    try {\n      const result = this.storage.getItem(this.getStorageKey(\"tokens\"));\n      const stored = result instanceof Promise ? await result : result;\n      console.log(\"\\u{1F50D} Checking storage for tokens:\", {\n        hasStoredData: !!stored,\n        storedLength: stored?.length || 0,\n        isIframe: isWeb && this.isIframe\n      });\n      if (stored) {\n        const tokens = JSON.parse(stored);\n        console.log(\"\\u{1F4E6} Parsed stored tokens:\", {\n          hasAccessToken: !!tokens.access_token,\n          hasRefreshToken: !!tokens.refresh_token,\n          tokenType: tokens.token_type,\n          expiresIn: tokens.expires_in\n        });\n        return tokens;\n      }\n      return null;\n    } catch (error) {\n      console.log(\"\\u{1F4A5} Error reading tokens from storage:\", error);\n      return null;\n    }\n  }\n  extractTokensFromUrl() {\n    const search = getLocationSearch();\n    if (!search) return null;\n    const params = new URLSearchParams(search);\n    const accessToken = params.get(\"access_token\");\n    const refreshToken = params.get(\"refresh_token\");\n    console.log(\"\\u{1F50D} Extracting tokens from URL:\", {\n      url: getLocationHref(),\n      accessToken: accessToken ? `${accessToken.substring(0, 20)}...` : null,\n      refreshToken: refreshToken ? `${refreshToken.substring(0, 20)}...` : null,\n      allParams: Object.fromEntries(params.entries())\n    });\n    if (accessToken) {\n      const tokens = {\n        access_token: accessToken,\n        refresh_token: refreshToken || void 0,\n        token_type: \"Bearer\",\n        expires_in: 15 * 60,\n        // 15 minutes default\n        refresh_expires_in: refreshToken ? 30 * 24 * 60 * 60 : void 0,\n        // 30 days default\n        issued_at: Math.floor(Date.now() / 1e3)\n        // Current timestamp\n      };\n      console.log(\"\\u2705 Tokens extracted successfully:\", {\n        hasAccessToken: !!tokens.access_token,\n        hasRefreshToken: !!tokens.refresh_token\n      });\n      return tokens;\n    }\n    console.log(\"\\u274C No access token found in URL\");\n    return null;\n  }\n  clearUrlTokens() {\n    const href = getLocationHref();\n    if (!href || !hasWindowLocation()) return;\n    const url = new URL(href);\n    url.searchParams.delete(\"access_token\");\n    url.searchParams.delete(\"refresh_token\");\n    url.searchParams.delete(\"token_type\");\n    url.searchParams.delete(\"project_id\");\n    url.searchParams.delete(\"expires_in\");\n    url.searchParams.delete(\"refresh_expires_in\");\n    url.searchParams.delete(\"state\");\n    url.searchParams.delete(\"code\");\n    url.searchParams.delete(\"error\");\n    url.searchParams.delete(\"error_description\");\n    window.history.replaceState({}, \"\", url.toString());\n    console.log(\"\\u{1F9F9} URL cleaned up, removed auth parameters\");\n  }\n  redirectToAuth() {\n    if (hasWindowLocation()) {\n      this.login();\n    }\n  }\n  setLoading(loading) {\n    this.updateAuthState({\n      ...this.authState,\n      isLoading: loading\n    });\n  }\n  updateAuthState(newState) {\n    this.authState = newState;\n    this.listeners.forEach((callback) => {\n      try {\n        callback(newState);\n      } catch (error) {\n        console.error(\"Error in auth state change callback:\", error);\n      }\n    });\n  }\n  /**\n   * Generate secure random state for OAuth flows\n   */\n  generateState() {\n    if (typeof crypto !== \"undefined\" && crypto.getRandomValues) {\n      const array = new Uint8Array(16);\n      crypto.getRandomValues(array);\n      return Array.from(array, (byte) => byte.toString(16).padStart(2, \"0\")).join(\"\");\n    } else {\n      return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    }\n  }\n  /**\n   * Generate unique session ID for mobile OAuth\n   */\n  generateSessionId() {\n    if (typeof crypto !== \"undefined\" && crypto.getRandomValues) {\n      const array = new Uint8Array(32);\n      crypto.getRandomValues(array);\n      return Array.from(array, (byte) => byte.toString(16).padStart(2, \"0\")).join(\"\");\n    } else {\n      return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    }\n  }\n  /**\n   * Extract magic link token from URL\n   */\n  extractMagicTokenFromUrl() {\n    const search = getLocationSearch();\n    if (!search) return null;\n    const params = new URLSearchParams(search);\n    return params.get(\"magic_token\") || params.get(\"token\");\n  }\n  /**\n   * Map server error codes to BlinkAuthErrorCode\n   */\n  mapErrorCodeFromResponse(serverCode) {\n    switch (serverCode) {\n      case \"INVALID_CREDENTIALS\":\n      case \"auth/invalid-credential\":\n      case \"auth/wrong-password\":\n      case \"auth/user-not-found\":\n        return \"INVALID_CREDENTIALS\" /* INVALID_CREDENTIALS */;\n      case \"EMAIL_NOT_VERIFIED\":\n      case \"auth/email-not-verified\":\n        return \"EMAIL_NOT_VERIFIED\" /* EMAIL_NOT_VERIFIED */;\n      case \"EMAIL_ALREADY_VERIFIED\":\n        return \"VERIFICATION_FAILED\" /* VERIFICATION_FAILED */;\n      case \"POPUP_CANCELED\":\n      case \"auth/popup-closed-by-user\":\n        return \"POPUP_CANCELED\" /* POPUP_CANCELED */;\n      case \"NETWORK_ERROR\":\n        return \"NETWORK_ERROR\" /* NETWORK_ERROR */;\n      case \"RATE_LIMITED\":\n      case \"auth/too-many-requests\":\n        return \"RATE_LIMITED\" /* RATE_LIMITED */;\n      case \"AUTH_TIMEOUT\":\n        return \"AUTH_TIMEOUT\" /* AUTH_TIMEOUT */;\n      case \"REDIRECT_FAILED\":\n        return \"REDIRECT_FAILED\" /* REDIRECT_FAILED */;\n      case \"TOKEN_EXPIRED\":\n      case \"auth/id-token-expired\":\n        return \"TOKEN_EXPIRED\" /* TOKEN_EXPIRED */;\n      case \"USER_NOT_FOUND\":\n        return \"USER_NOT_FOUND\" /* USER_NOT_FOUND */;\n      case \"EMAIL_ALREADY_EXISTS\":\n      case \"auth/email-already-in-use\":\n        return \"EMAIL_ALREADY_EXISTS\" /* EMAIL_ALREADY_EXISTS */;\n      case \"WEAK_PASSWORD\":\n      case \"auth/weak-password\":\n        return \"WEAK_PASSWORD\" /* WEAK_PASSWORD */;\n      case \"INVALID_EMAIL\":\n      case \"auth/invalid-email\":\n        return \"INVALID_EMAIL\" /* INVALID_EMAIL */;\n      case \"MAGIC_LINK_EXPIRED\":\n        return \"MAGIC_LINK_EXPIRED\" /* MAGIC_LINK_EXPIRED */;\n      case \"VERIFICATION_FAILED\":\n        return \"VERIFICATION_FAILED\" /* VERIFICATION_FAILED */;\n      default:\n        return \"NETWORK_ERROR\" /* NETWORK_ERROR */;\n    }\n  }\n  /**\n   * Setup cross-tab authentication synchronization\n   */\n  setupCrossTabSync() {\n    if (!isWeb || !hasWindow()) return;\n    window.addEventListener(\"storage\", (e) => {\n      if (e.key === this.getStorageKey(\"tokens\")) {\n        const newTokens = e.newValue ? JSON.parse(e.newValue) : null;\n        if (newTokens && newTokens !== this.authState.tokens) {\n          this.setTokens(newTokens, false).catch((error) => {\n            console.error(\"Failed to sync tokens from other tab:\", error);\n          });\n        } else if (!newTokens && this.authState.tokens) {\n          this.clearTokens();\n        }\n      }\n    });\n  }\n};\n\n// src/database.ts\nfunction assertServerOnly(methodName) {\n  if (typeof window !== \"undefined\") {\n    throw new Error(`${methodName} is server-only. Use Blink CRUD methods (blink.db.<table>.*) instead.`);\n  }\n}\nfunction camelToSnake3(str) {\n  return str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\n}\nfunction generateSecureId() {\n  if (typeof crypto !== \"undefined\" && crypto.getRandomValues) {\n    const array = new Uint8Array(16);\n    crypto.getRandomValues(array);\n    return Array.from(array, (byte) => byte.toString(16).padStart(2, \"0\")).join(\"\");\n  } else {\n    const timestamp = Date.now().toString(36);\n    const randomPart = Math.random().toString(36).substring(2, 15);\n    const extraRandom = Math.random().toString(36).substring(2, 15);\n    return `${timestamp}_${randomPart}_${extraRandom}`;\n  }\n}\nfunction ensureRecordId(record) {\n  if (!record.id) {\n    return { ...record, id: generateSecureId() };\n  }\n  return record;\n}\nvar BlinkTable = class {\n  constructor(tableName, httpClient) {\n    this.tableName = tableName;\n    this.httpClient = httpClient;\n    this.actualTableName = camelToSnake3(tableName);\n  }\n  actualTableName;\n  /**\n   * Create a single record\n   */\n  async create(data, options = {}) {\n    const record = ensureRecordId(data);\n    const response = await this.httpClient.dbPost(\n      this.actualTableName,\n      record,\n      { returning: options.returning !== false }\n    );\n    const result = Array.isArray(response.data) ? response.data[0] : response.data;\n    if (!result) {\n      throw new Error(\"Failed to create record\");\n    }\n    return result;\n  }\n  /**\n   * Create multiple records\n   */\n  async createMany(data, options = {}) {\n    const records = data.map(ensureRecordId);\n    const response = await this.httpClient.dbPost(\n      this.actualTableName,\n      records,\n      { returning: options.returning !== false }\n    );\n    const results = Array.isArray(response.data) ? response.data : [response.data];\n    return results;\n  }\n  /**\n   * Upsert a single record (insert or update on conflict)\n   */\n  async upsert(data, options = {}) {\n    const headers = {};\n    if (options.returning !== false) {\n      headers.Prefer = \"return=representation\";\n    }\n    if (options.onConflict) {\n      headers[\"Prefer\"] = `${headers[\"Prefer\"] || \"\"} resolution=merge-duplicates`.trim();\n    }\n    const record = ensureRecordId(data);\n    const response = await this.httpClient.request(\n      `/api/db/${this.httpClient.projectId}/rest/v1/${this.actualTableName}?on_conflict=${options.onConflict || \"id\"}`,\n      {\n        method: \"POST\",\n        body: record,\n        headers\n      }\n    );\n    const result = Array.isArray(response.data) ? response.data[0] : response.data;\n    if (!result) {\n      throw new Error(\"Failed to upsert record\");\n    }\n    return result;\n  }\n  /**\n   * Upsert multiple records\n   */\n  async upsertMany(data, options = {}) {\n    const records = data.map(ensureRecordId);\n    const headers = {};\n    if (options.returning !== false) {\n      headers.Prefer = \"return=representation\";\n    }\n    if (options.onConflict) {\n      headers[\"Prefer\"] = `${headers[\"Prefer\"] || \"\"} resolution=merge-duplicates`.trim();\n    }\n    const response = await this.httpClient.request(\n      `/api/db/${this.httpClient.projectId}/rest/v1/${this.actualTableName}?on_conflict=${options.onConflict || \"id\"}`,\n      {\n        method: \"POST\",\n        body: records,\n        headers\n      }\n    );\n    const results = Array.isArray(response.data) ? response.data : [response.data];\n    return results;\n  }\n  /**\n   * Get a single record by ID\n   */\n  async get(id) {\n    const searchParams = {\n      id: `eq.${id}`,\n      limit: \"1\"\n    };\n    const response = await this.httpClient.dbGet(this.actualTableName, searchParams);\n    const records = response.data;\n    if (records.length === 0) {\n      return null;\n    }\n    return records[0] || null;\n  }\n  /**\n   * List records with filtering, sorting, and pagination\n   */\n  async list(options = {}) {\n    const queryParams = buildQuery(options);\n    const searchParams = queryParams;\n    const response = await this.httpClient.dbGet(this.actualTableName, searchParams);\n    const records = response.data;\n    return records;\n  }\n  /**\n   * Update a single record by ID\n   */\n  async update(id, data, options = {}) {\n    const searchParams = {\n      id: `eq.${id}`\n    };\n    const response = await this.httpClient.dbPatch(\n      this.actualTableName,\n      data,\n      searchParams,\n      { returning: options.returning !== false }\n    );\n    const records = response.data;\n    if (!records || records.length === 0) {\n      throw new Error(`Record with id ${id} not found`);\n    }\n    return records[0];\n  }\n  /**\n   * Update multiple records\n   */\n  async updateMany(updates, options = {}) {\n    const results = [];\n    for (const update of updates) {\n      const { id, ...data } = update;\n      const result = await this.update(id, data, options);\n      results.push(result);\n    }\n    return results;\n  }\n  /**\n   * Delete a single record by ID\n   */\n  async delete(id) {\n    const searchParams = {\n      id: `eq.${id}`\n    };\n    await this.httpClient.dbDelete(this.actualTableName, searchParams);\n  }\n  /**\n   * Delete multiple records based on filter\n   */\n  async deleteMany(options) {\n    const queryParams = buildQuery({ where: options.where });\n    const searchParams = queryParams;\n    await this.httpClient.dbDelete(this.actualTableName, searchParams);\n  }\n  /**\n   * Count records matching filter\n   */\n  async count(options = {}) {\n    const queryParams = buildQuery({\n      where: options.where,\n      select: [\"id\"]\n    });\n    const response = await this.httpClient.request(\n      `/api/db/${this.httpClient.projectId}/rest/v1/${this.actualTableName}`,\n      {\n        method: \"GET\",\n        searchParams: queryParams,\n        headers: {\n          \"Prefer\": \"count=exact\"\n        }\n      }\n    );\n    const contentRange = response.headers.get(\"content-range\");\n    if (contentRange) {\n      const match = contentRange.match(/\\/(\\d+)$/);\n      if (match && match[1]) {\n        return parseInt(match[1], 10);\n      }\n    }\n    const records = response.data;\n    return records.length;\n  }\n  /**\n   * Check if any records exist matching filter\n   */\n  async exists(options) {\n    const count = await this.count(options);\n    return count > 0;\n  }\n  /**\n   * Raw SQL query on this table (for advanced use cases)\n   */\n  async sql(query, params) {\n    assertServerOnly(\"blink.db.<table>.sql\");\n    const response = await this.httpClient.dbSql(query, params);\n    return response.data;\n  }\n  /**\n   * Private helper methods\n   */\n  extractCursor(record) {\n    return record.id || record._id || String(Math.random());\n  }\n};\nvar BlinkDatabase = class {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    const proxy = new Proxy(this, {\n      get(target, prop) {\n        if (prop === \"table\") {\n          return target.table.bind(target);\n        }\n        if (prop in target) {\n          const value = target[prop];\n          return typeof value === \"function\" ? value.bind(target) : value;\n        }\n        if (typeof prop === \"string\") {\n          return target.table(prop);\n        }\n        return void 0;\n      }\n    });\n    return proxy;\n  }\n  tables = /* @__PURE__ */ new Map();\n  /**\n   * Get a table instance for any table name\n   */\n  table(tableName) {\n    if (!this.tables.has(tableName)) {\n      this.tables.set(tableName, new BlinkTable(tableName, this.httpClient));\n    }\n    const table = this.tables.get(tableName);\n    if (!table) {\n      throw new Error(`Table ${tableName} not found`);\n    }\n    return table;\n  }\n  /**\n   * Execute raw SQL query\n   */\n  async sql(query, params) {\n    assertServerOnly(\"blink.db.sql\");\n    const response = await this.httpClient.dbSql(query, params);\n    return response.data;\n  }\n  /**\n   * Execute batch SQL operations\n   */\n  async batch(statements, mode = \"write\") {\n    assertServerOnly(\"blink.db.batch\");\n    const response = await this.httpClient.dbBatch(statements, mode);\n    return response.data;\n  }\n};\n\n// src/storage.ts\nvar BlinkStorageImpl = class {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n  }\n  /**\n   * Upload a file to project storage\n   * \n   * @param file - File, Blob, or Buffer to upload\n   * @param path - Destination path within project storage (extension will be auto-corrected to match file type)\n   * @param options - Upload options including upsert and progress callback\n   * @returns Promise resolving to upload response with public URL\n   * \n   * @example\n   * ```ts\n   * // Extension automatically corrected to match actual file type\n   * const { publicUrl } = await blink.storage.upload(\n   *   pngFile,\n   *   `avatars/${user.id}`, // No extension needed!\n   *   { upsert: true }\n   * );\n   * // If file is PNG, final path will be: avatars/user123.png\n   * \n   * // Or with extension (will be corrected if wrong)\n   * const { publicUrl } = await blink.storage.upload(\n   *   pngFile,\n   *   `avatars/${user.id}.jpg`, // Wrong extension\n   *   { upsert: true }\n   * );\n   * // Final path will be: avatars/user123.png (auto-corrected!)\n   * ```\n   */\n  async upload(file, path, options = {}) {\n    try {\n      if (!file) {\n        throw new BlinkStorageError(\"File is required\");\n      }\n      if (!path || typeof path !== \"string\" || !path.trim()) {\n        throw new BlinkStorageError(\"Path must be a non-empty string\");\n      }\n      const maxSize = 50 * 1024 * 1024;\n      let fileSize = 0;\n      if (file instanceof File || file instanceof Blob) {\n        fileSize = file.size;\n      } else if (typeof Buffer !== \"undefined\" && file instanceof Buffer) {\n        fileSize = file.length;\n      }\n      if (fileSize > maxSize) {\n        throw new BlinkStorageError(`File size (${Math.round(fileSize / 1024 / 1024)}MB) exceeds maximum allowed size (50MB)`);\n      }\n      const { correctedPath, detectedContentType } = await this.detectFileTypeAndCorrectPath(file, path);\n      const response = await this.httpClient.uploadFile(\n        `/api/storage/${this.httpClient.projectId}/upload`,\n        file,\n        correctedPath,\n        // Use corrected path with proper extension\n        {\n          onProgress: options.onProgress,\n          contentType: detectedContentType\n          // Pass detected content type\n        }\n      );\n      if (response.data?.data?.publicUrl) {\n        return { publicUrl: response.data.data.publicUrl };\n      } else if (response.data?.publicUrl) {\n        return { publicUrl: response.data.publicUrl };\n      } else {\n        throw new BlinkStorageError(\"Invalid response format: missing publicUrl\");\n      }\n    } catch (error) {\n      if (error instanceof BlinkStorageError) {\n        throw error;\n      }\n      if (error instanceof Error && \"status\" in error) {\n        const status = error.status;\n        if (status === 409) {\n          throw new BlinkStorageError(\"File already exists.\", 409);\n        }\n        if (status === 400) {\n          throw new BlinkStorageError(\"Invalid request parameters\", 400);\n        }\n      }\n      throw new BlinkStorageError(\n        `Upload failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Detect file type from actual file content and correct path extension\n   * This ensures the path extension always matches the actual file type\n   */\n  async detectFileTypeAndCorrectPath(file, originalPath) {\n    try {\n      const fileSignature = await this.getFileSignature(file);\n      const detectedType = this.detectFileTypeFromSignature(fileSignature);\n      let detectedContentType = detectedType.mimeType;\n      let detectedExtension = detectedType.extension;\n      if (!detectedContentType && file instanceof File && file.type) {\n        detectedContentType = file.type;\n        detectedExtension = this.getExtensionFromMimeType(file.type);\n      }\n      if (!detectedContentType) {\n        detectedContentType = \"application/octet-stream\";\n        detectedExtension = \"bin\";\n      }\n      const pathParts = originalPath.split(\"/\");\n      const fileName = pathParts[pathParts.length - 1];\n      const directory = pathParts.slice(0, -1).join(\"/\");\n      if (!fileName) {\n        throw new Error(\"Invalid path: filename cannot be empty\");\n      }\n      const nameWithoutExt = fileName.includes(\".\") ? fileName.substring(0, fileName.lastIndexOf(\".\")) : fileName;\n      const correctedFileName = `${nameWithoutExt}.${detectedExtension}`;\n      const correctedPath = directory ? `${directory}/${correctedFileName}` : correctedFileName;\n      return {\n        correctedPath,\n        detectedContentType\n      };\n    } catch (error) {\n      return {\n        correctedPath: originalPath,\n        detectedContentType: \"application/octet-stream\"\n      };\n    }\n  }\n  /**\n   * Get the first few bytes of a file to analyze its signature\n   */\n  async getFileSignature(file) {\n    const bytesToRead = 12;\n    if (typeof Buffer !== \"undefined\" && file instanceof Buffer) {\n      return new Uint8Array(file.slice(0, bytesToRead));\n    }\n    if (file instanceof File || file instanceof Blob) {\n      const slice = file.slice(0, bytesToRead);\n      const arrayBuffer = await slice.arrayBuffer();\n      return new Uint8Array(arrayBuffer);\n    }\n    throw new Error(\"Unsupported file type for signature detection\");\n  }\n  /**\n   * Detect file type from file signature (magic numbers)\n   * This is the most reliable way to detect actual file type\n   */\n  detectFileTypeFromSignature(signature) {\n    const hex = Array.from(signature).map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n    const signatures = {\n      // Images\n      \"ffd8ff\": { mimeType: \"image/jpeg\", extension: \"jpg\" },\n      \"89504e47\": { mimeType: \"image/png\", extension: \"png\" },\n      \"47494638\": { mimeType: \"image/gif\", extension: \"gif\" },\n      \"52494646\": { mimeType: \"image/webp\", extension: \"webp\" },\n      // RIFF (WebP container)\n      \"424d\": { mimeType: \"image/bmp\", extension: \"bmp\" },\n      \"49492a00\": { mimeType: \"image/tiff\", extension: \"tiff\" },\n      \"4d4d002a\": { mimeType: \"image/tiff\", extension: \"tiff\" },\n      // Documents\n      \"25504446\": { mimeType: \"application/pdf\", extension: \"pdf\" },\n      \"504b0304\": { mimeType: \"application/zip\", extension: \"zip\" },\n      // Also used by docx, xlsx\n      \"d0cf11e0\": { mimeType: \"application/msword\", extension: \"doc\" },\n      // Audio\n      \"494433\": { mimeType: \"audio/mpeg\", extension: \"mp3\" },\n      \"664c6143\": { mimeType: \"audio/flac\", extension: \"flac\" },\n      \"4f676753\": { mimeType: \"audio/ogg\", extension: \"ogg\" },\n      // Video\n      \"000000\": { mimeType: \"video/mp4\", extension: \"mp4\" },\n      // ftyp box\n      \"1a45dfa3\": { mimeType: \"video/webm\", extension: \"webm\" },\n      // Text\n      \"efbbbf\": { mimeType: \"text/plain\", extension: \"txt\" }\n      // UTF-8 BOM\n    };\n    for (const [sig, type] of Object.entries(signatures)) {\n      if (hex.startsWith(sig)) {\n        return type;\n      }\n    }\n    if (hex.startsWith(\"52494646\") && hex.substring(16, 24) === \"57454250\") {\n      return { mimeType: \"image/webp\", extension: \"webp\" };\n    }\n    if (hex.substring(8, 16) === \"66747970\") {\n      return { mimeType: \"video/mp4\", extension: \"mp4\" };\n    }\n    return { mimeType: \"\", extension: \"\" };\n  }\n  /**\n   * Get file extension from MIME type as fallback\n   */\n  getExtensionFromMimeType(mimeType) {\n    const mimeToExt = {\n      \"image/jpeg\": \"jpg\",\n      \"image/png\": \"png\",\n      \"image/gif\": \"gif\",\n      \"image/webp\": \"webp\",\n      \"image/bmp\": \"bmp\",\n      \"image/svg+xml\": \"svg\",\n      \"application/pdf\": \"pdf\",\n      \"text/plain\": \"txt\",\n      \"text/html\": \"html\",\n      \"text/css\": \"css\",\n      \"application/javascript\": \"js\",\n      \"application/json\": \"json\",\n      \"audio/mpeg\": \"mp3\",\n      \"audio/wav\": \"wav\",\n      \"audio/ogg\": \"ogg\",\n      \"video/mp4\": \"mp4\",\n      \"video/webm\": \"webm\",\n      \"application/zip\": \"zip\"\n    };\n    return mimeToExt[mimeType] || \"bin\";\n  }\n  /**\n   * Get a download URL for a file that triggers browser download\n   * \n   * @param path - Path to the file in project storage\n   * @param options - Download options including custom filename\n   * @returns Promise resolving to download response with download URL\n   * \n   * @example\n   * ```ts\n   * // Download with original filename\n   * const { downloadUrl, filename } = await blink.storage.download('images/photo.jpg');\n   * window.open(downloadUrl, '_blank');\n   * \n   * // Download with custom filename\n   * const { downloadUrl } = await blink.storage.download(\n   *   'images/photo.jpg',\n   *   { filename: 'my-photo.jpg' }\n   * );\n   * \n   * // Create download link in React\n   * <a href={downloadUrl} download={filename}>Download Image</a>\n   * ```\n   */\n  async download(path, options = {}) {\n    try {\n      if (!path || typeof path !== \"string\" || !path.trim()) {\n        throw new BlinkStorageError(\"Path must be a non-empty string\");\n      }\n      const response = await this.httpClient.request(\n        `/api/storage/${this.httpClient.projectId}/download`,\n        {\n          method: \"GET\",\n          searchParams: {\n            path: path.trim(),\n            ...options.filename && { filename: options.filename }\n          }\n        }\n      );\n      if (response.data?.downloadUrl) {\n        return {\n          downloadUrl: response.data.downloadUrl,\n          filename: response.data.filename || options.filename || path.split(\"/\").pop() || \"download\",\n          contentType: response.data.contentType,\n          size: response.data.size\n        };\n      } else {\n        throw new BlinkStorageError(\"Invalid response format: missing downloadUrl\");\n      }\n    } catch (error) {\n      if (error instanceof BlinkStorageError) {\n        throw error;\n      }\n      if (error instanceof Error && \"status\" in error) {\n        const status = error.status;\n        if (status === 404) {\n          throw new BlinkStorageError(\"File not found\", 404);\n        }\n        if (status === 400) {\n          throw new BlinkStorageError(\"Invalid request parameters\", 400);\n        }\n      }\n      throw new BlinkStorageError(\n        `Download failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Remove one or more files from project storage\n   * \n   * @param paths - File paths to remove\n   * @returns Promise that resolves when files are removed\n   * \n   * @example\n   * ```ts\n   * await blink.storage.remove('avatars/user1.png');\n   * await blink.storage.remove('file1.pdf', 'file2.pdf', 'file3.pdf');\n   * ```\n   */\n  async remove(...paths) {\n    try {\n      if (paths.length === 0) {\n        throw new BlinkStorageError(\"At least one path must be provided\");\n      }\n      for (const path of paths) {\n        if (!path || typeof path !== \"string\") {\n          throw new BlinkStorageError(\"All paths must be non-empty strings\");\n        }\n      }\n      await this.httpClient.request(\n        `/api/storage/${this.httpClient.projectId}/remove`,\n        {\n          method: \"DELETE\",\n          body: { paths },\n          headers: { \"Content-Type\": \"application/json\" }\n        }\n      );\n    } catch (error) {\n      if (error instanceof BlinkStorageError) {\n        throw error;\n      }\n      if (error instanceof Error && \"status\" in error) {\n        const status = error.status;\n        if (status === 400) {\n          throw new BlinkStorageError(\"Invalid request parameters\", 400);\n        }\n      }\n      throw new BlinkStorageError(\n        `Failed to remove files: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n};\n\n// src/tools/core.ts\nvar webSearch = \"web_search\";\nvar fetchUrl = \"fetch_url\";\nvar runCode = \"run_code\";\nvar coreTools = [webSearch, fetchUrl, runCode];\n\n// src/tools/sandbox.ts\nvar readFile = \"read_file\";\nvar listDir = \"list_dir\";\nvar writeFile = \"write_file\";\nvar searchReplace = \"search_replace\";\nvar grep = \"grep\";\nvar globFileSearch = \"glob_file_search\";\nvar runTerminalCmd = \"run_terminal_cmd\";\nvar getHost = \"get_host\";\nvar sandboxTools = [\n  readFile,\n  listDir,\n  writeFile,\n  searchReplace,\n  grep,\n  globFileSearch,\n  runTerminalCmd,\n  getHost\n];\n\n// src/tools/db.ts\nvar dbInsert = \"db_insert\";\nvar dbList = \"db_list\";\nvar dbGet = \"db_get\";\nvar dbUpdate = \"db_update\";\nvar dbDelete = \"db_delete\";\nvar dbTools = [dbInsert, dbList, dbGet, dbUpdate, dbDelete];\n\n// src/tools/storage.ts\nvar storageUpload = \"storage_upload\";\nvar storageDownload = \"storage_download\";\nvar storageList = \"storage_list\";\nvar storageDelete = \"storage_delete\";\nvar storagePublicUrl = \"storage_public_url\";\nvar storageMove = \"storage_move\";\nvar storageCopy = \"storage_copy\";\nvar storageTools = [\n  storageUpload,\n  storageDownload,\n  storageList,\n  storageDelete,\n  storagePublicUrl,\n  storageMove,\n  storageCopy\n];\n\n// src/tools/rag.ts\nvar ragSearch = \"rag_search\";\nvar ragTools = [ragSearch];\n\n// src/tools/media.ts\nvar generateImage = \"generate_image\";\nvar editImage = \"edit_image\";\nvar generateVideo = \"generate_video\";\nvar imageToVideo = \"image_to_video\";\nvar mediaTools = [generateImage, editImage, generateVideo, imageToVideo];\n\n// src/tools/index.ts\nfunction serializeTools(tools) {\n  return tools;\n}\n\n// src/agent.ts\nfunction createStopConditions(maxSteps, stopWhen) {\n  if (stopWhen && stopWhen.length > 0) {\n    return stopWhen;\n  }\n  if (maxSteps && maxSteps > 0) {\n    return [{ type: \"step_count_is\", count: maxSteps }];\n  }\n  return void 0;\n}\nvar Agent = class {\n  httpClient = null;\n  config;\n  /**\n   * Create a new Agent instance.\n   * Auto-binds to default client if createClient() was called.\n   * \n   * @param options - Agent configuration options\n   */\n  constructor(options) {\n    if (!options.model) {\n      throw new BlinkAIError(\"Agent model is required\");\n    }\n    this.config = options;\n    try {\n      this.httpClient = _getDefaultHttpClient();\n    } catch {\n    }\n  }\n  /**\n   * Internal: Set the HTTP client (called by BlinkClient)\n   */\n  _setHttpClient(client) {\n    this.httpClient = client;\n  }\n  /**\n   * Internal: Get the agent config for API requests\n   */\n  getAgentConfig() {\n    const { model, system, instructions, tools, webhookTools, clientTools, toolChoice, stopWhen, maxSteps } = this.config;\n    const serializedTools = tools ? serializeTools(tools) : void 0;\n    const stopConditions = createStopConditions(maxSteps, stopWhen);\n    return {\n      model,\n      system: system || instructions,\n      tools: serializedTools,\n      webhook_tools: webhookTools,\n      client_tools: clientTools,\n      tool_choice: toolChoice,\n      stop_when: stopConditions\n    };\n  }\n  /**\n   * Generate a response (non-streaming)\n   * \n   * @param options - Generation options (prompt or messages)\n   * @returns Promise<AgentResponse> with text, steps, usage, and billing\n   * \n   * @example\n   * ```ts\n   * const result = await agent.generate({\n   *   prompt: 'What is the weather in San Francisco?',\n   * })\n   * console.log(result.text)\n   * console.log(result.steps)\n   * ```\n   */\n  async generate(options) {\n    if (!this.httpClient) {\n      throw new BlinkAIError(\n        \"Agent not initialized. Call createClient() first, or use useAgent() in React.\"\n      );\n    }\n    if (!options.prompt && !options.messages) {\n      throw new BlinkAIError(\"Either prompt or messages is required\");\n    }\n    if (options.prompt && options.messages) {\n      throw new BlinkAIError(\"prompt and messages are mutually exclusive\");\n    }\n    try {\n      const requestBody = {\n        stream: false,\n        agent: this.getAgentConfig()\n      };\n      if (options.prompt) {\n        requestBody.prompt = options.prompt;\n      } else if (options.messages) {\n        requestBody.messages = options.messages;\n      }\n      if (options.sandbox) {\n        requestBody.sandbox_id = typeof options.sandbox === \"string\" ? options.sandbox : options.sandbox.id;\n      }\n      const response = await this.httpClient.aiAgent(requestBody, options.signal);\n      return response.data;\n    } catch (error) {\n      console.error(\"[Agent] generate failed:\", error);\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Agent generate failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Stream a response (real-time)\n   * \n   * @param options - Stream options (prompt or messages)\n   * @returns Promise<Response> - AI SDK UI Message Stream for useChat compatibility\n   * \n   * @example\n   * ```ts\n   * const stream = await agent.stream({\n   *   prompt: 'Tell me a story',\n   * })\n   * \n   * // Process stream\n   * for await (const chunk of stream.body) {\n   *   // Handle chunk\n   * }\n   * ```\n   */\n  async stream(options) {\n    if (!this.httpClient) {\n      throw new BlinkAIError(\n        \"Agent not initialized. Call createClient() first, or use useAgent() in React.\"\n      );\n    }\n    if (!options.prompt && !options.messages) {\n      throw new BlinkAIError(\"Either prompt or messages is required\");\n    }\n    if (options.prompt && options.messages) {\n      throw new BlinkAIError(\"prompt and messages are mutually exclusive\");\n    }\n    try {\n      const requestBody = {\n        stream: true,\n        agent: this.getAgentConfig()\n      };\n      if (options.prompt) {\n        requestBody.prompt = options.prompt;\n      } else if (options.messages) {\n        requestBody.messages = options.messages;\n      }\n      if (options.sandbox) {\n        requestBody.sandbox_id = typeof options.sandbox === \"string\" ? options.sandbox : options.sandbox.id;\n      }\n      return await this.httpClient.aiAgentStream(requestBody, options.signal);\n    } catch (error) {\n      console.error(\"[Agent] stream failed:\", error);\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Agent stream failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Get the agent's model\n   */\n  get model() {\n    return this.config.model;\n  }\n  /**\n   * Get the agent's system prompt\n   */\n  get system() {\n    return this.config.system || this.config.instructions;\n  }\n  /**\n   * Get the agent's tools\n   */\n  get tools() {\n    return this.config.tools;\n  }\n};\nfunction stepCountIs(count) {\n  return { type: \"step_count_is\", count };\n}\n\n// src/ai.ts\nvar BlinkAIImpl = class {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n  }\n  // Supported image formats for validation\n  SUPPORTED_IMAGE_FORMATS = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"webp\"];\n  /**\n   * Validates if a URL is a valid HTTPS image URL\n   */\n  validateImageUrl(url) {\n    try {\n      const parsedUrl = new URL(url);\n      if (parsedUrl.protocol !== \"https:\") {\n        return { isValid: false, error: \"Image URLs must use HTTPS protocol\" };\n      }\n      const pathname = parsedUrl.pathname.toLowerCase();\n      const hasValidExtension = this.SUPPORTED_IMAGE_FORMATS.some(\n        (format) => pathname.endsWith(`.${format}`)\n      );\n      if (!hasValidExtension) {\n        return {\n          isValid: false,\n          error: `Image URL must end with a supported format: ${this.SUPPORTED_IMAGE_FORMATS.join(\", \")}`\n        };\n      }\n      return { isValid: true };\n    } catch (error) {\n      return { isValid: false, error: \"Invalid URL format\" };\n    }\n  }\n  /**\n   * Validates messages for image content\n   */\n  validateMessages(messages) {\n    const errors = [];\n    messages.forEach((message, messageIndex) => {\n      if (Array.isArray(message.content)) {\n        message.content.forEach((item, contentIndex) => {\n          if (item.type === \"image\") {\n            if (!item.image || typeof item.image !== \"string\") {\n              errors.push(`Message ${messageIndex}, content ${contentIndex}: Image content must have a valid image URL`);\n            } else {\n              const validation = this.validateImageUrl(item.image);\n              if (!validation.isValid) {\n                errors.push(`Message ${messageIndex}, content ${contentIndex}: ${validation.error}`);\n              }\n            }\n          }\n        });\n      }\n    });\n    return { isValid: errors.length === 0, errors };\n  }\n  /**\n   * Get MIME type for audio format\n   */\n  getMimeTypeForFormat(format) {\n    const mimeTypes = {\n      mp3: \"audio/mpeg\",\n      opus: \"audio/opus\",\n      aac: \"audio/aac\",\n      flac: \"audio/flac\",\n      wav: \"audio/wav\",\n      pcm: \"audio/pcm\"\n    };\n    return mimeTypes[format] || \"audio/mpeg\";\n  }\n  /**\n   * Generates a text response using the Blink AI engine.\n   * \n   * @param options - An object containing either:\n   *   - `prompt`: a simple string prompt\n   *   - OR `messages`: an array of chat messages for conversation\n   *   - Plus optional model, search, maxSteps, experimental_continueSteps, maxTokens, temperature, signal parameters\n   * \n   * @example\n   * ```ts\n   * // Simple prompt\n   * const { text } = await blink.ai.generateText({ \n   *   prompt: \"Write a poem about coding\" \n   * });\n   * \n   * // Chat messages (text only)\n   * const { text } = await blink.ai.generateText({\n   *   messages: [\n   *     { role: \"system\", content: \"You are a helpful assistant\" },\n   *     { role: \"user\", content: \"Explain quantum computing\" }\n   *   ]\n   * });\n   * \n   * // With image content\n   * const { text } = await blink.ai.generateText({\n   *   messages: [\n   *     { \n   *       role: \"user\", \n   *       content: [\n   *         { type: \"text\", text: \"What do you see in this image?\" },\n   *         { type: \"image\", image: \"https://example.com/photo.jpg\" }\n   *       ]\n   *     }\n   *   ]\n   * });\n   * \n   * // Mixed content with multiple images\n   * const { text } = await blink.ai.generateText({\n   *   messages: [\n   *     { \n   *       role: \"user\", \n   *       content: [\n   *         { type: \"text\", text: \"Compare these two images:\" },\n   *         { type: \"image\", image: \"https://example.com/image1.jpg\" },\n   *         { type: \"image\", image: \"https://example.com/image2.jpg\" }\n   *       ]\n   *     }\n   *   ]\n   * });\n   * \n   * // With options\n   * const { text, usage } = await blink.ai.generateText({\n   *   prompt: \"Summarize this article\",\n   *   model: \"gpt-4.1-mini\",\n   *   maxTokens: 150,\n   *   temperature: 0.7\n   * });\n   * \n   * // With web search (OpenAI models only)\n   * const { text, sources } = await blink.ai.generateText({\n   *   prompt: \"What are the latest developments in AI?\",\n   *   model: \"gpt-4.1-mini\",\n   *   search: true // Enables web search\n   * });\n   * \n   * // With advanced multi-step configuration\n   * const { text } = await blink.ai.generateText({\n   *   prompt: \"Research and analyze recent tech trends\",\n   *   model: \"gpt-4o\",\n   *   search: true,\n   *   maxSteps: 10, // Allow up to 10 reasoning steps\n   *   experimental_continueSteps: true // Enable continued reasoning\n   * });\n   * ```\n   * \n   * @returns Promise<TextGenerationResponse> - Object containing:\n   *   - `text`: Generated text string\n   *   - `usage`: Token usage information\n   *   - `finishReason`: Why generation stopped (\"stop\", \"length\", etc.)\n   */\n  async generateText(options) {\n    try {\n      if (!options.prompt && !options.messages) {\n        throw new BlinkAIError(\"Either prompt or messages is required\");\n      }\n      if (options.messages) {\n        const validation = this.validateMessages(options.messages);\n        if (!validation.isValid) {\n          throw new BlinkAIError(`Message validation failed: ${validation.errors.join(\"; \")}`);\n        }\n      }\n      const requestBody = {\n        model: options.model,\n        stream: false,\n        search: options.search,\n        maxSteps: options.maxSteps,\n        experimental_continueSteps: options.experimental_continueSteps,\n        maxTokens: options.maxTokens,\n        temperature: options.temperature,\n        signal: options.signal\n      };\n      if (options.prompt) {\n        requestBody.prompt = options.prompt;\n      }\n      if (options.messages) {\n        requestBody.messages = options.messages;\n      }\n      const response = await this.httpClient.aiText(\n        options.prompt || \"\",\n        requestBody\n      );\n      return response.data;\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Text generation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Streams text generation with real-time updates as the AI generates content.\n   * \n   * @param options - Same as generateText: either `prompt` or `messages` with optional parameters including search, maxSteps, experimental_continueSteps\n   * @param onChunk - Callback function that receives each text chunk as it's generated\n   * \n   * @example\n   * ```ts\n   * // Stream with prompt\n   * await blink.ai.streamText(\n   *   { prompt: \"Write a short story about space exploration\" },\n   *   (chunk) => {\n   *     process.stdout.write(chunk); // Real-time output\n   *   }\n   * );\n   * \n   * // Stream with messages\n   * await blink.ai.streamText(\n   *   { \n   *     messages: [\n   *       { role: \"system\", content: \"You are a creative writer\" },\n   *       { role: \"user\", content: \"Write a haiku about programming\" }\n   *     ]\n   *   },\n   *   (chunk) => updateUI(chunk)\n   * );\n   * ```\n   * \n   * @returns Promise<TextGenerationResponse> - Final complete response with full text and metadata\n   */\n  async streamText(options, onChunk) {\n    try {\n      if (!options.prompt && !options.messages) {\n        throw new BlinkAIError(\"Either prompt or messages is required\");\n      }\n      if (options.messages) {\n        const validation = this.validateMessages(options.messages);\n        if (!validation.isValid) {\n          throw new BlinkAIError(`Message validation failed: ${validation.errors.join(\"; \")}`);\n        }\n      }\n      const result = await this.httpClient.streamAiText(\n        options.prompt || \"\",\n        {\n          model: options.model,\n          messages: options.messages,\n          search: options.search,\n          maxSteps: options.maxSteps,\n          experimental_continueSteps: options.experimental_continueSteps,\n          maxTokens: options.maxTokens,\n          temperature: options.temperature,\n          signal: options.signal\n        },\n        onChunk\n      );\n      return {\n        text: result.text || \"\",\n        finishReason: result.finishReason || \"stop\",\n        usage: result.usage,\n        toolCalls: result.toolCalls,\n        toolResults: result.toolResults,\n        sources: result.sources,\n        files: result.files,\n        reasoningDetails: result.reasoning,\n        response: result.response\n      };\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Text streaming failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Generates structured JSON objects using AI with schema validation.\n   * \n   * @param options - Object containing:\n   *   - `prompt`: Description of what object to generate (required)\n   *   - `schema`: JSON Schema to validate the generated object\n   *   - `output`: Type of output (\"object\", \"array\", \"enum\")\n   *   - `enum`: Array of allowed values for enum output\n   *   - Plus optional model, signal parameters\n   * \n   * @example\n   * ```ts\n   * // Generate user profile\n   * const { object } = await blink.ai.generateObject({\n   *   prompt: \"Generate a user profile for a software developer\",\n   *   schema: {\n   *     type: \"object\",\n   *     properties: {\n   *       name: { type: \"string\" },\n   *       age: { type: \"number\" },\n   *       skills: { type: \"array\", items: { type: \"string\" } },\n   *       experience: { type: \"number\" }\n   *     },\n   *     required: [\"name\", \"skills\"]\n   *   }\n   * });\n   * \n   * // Generate array of items\n   * const { object } = await blink.ai.generateObject({\n   *   prompt: \"List 5 programming languages\",\n   *   output: \"array\",\n   *   schema: {\n   *     type: \"array\",\n   *     items: { type: \"string\" }\n   *   }\n   * });\n   * \n   * // Generate enum value\n   * const { object } = await blink.ai.generateObject({\n   *   prompt: \"Choose the best programming language for web development\",\n   *   output: \"enum\",\n   *   enum: [\"JavaScript\", \"Python\", \"TypeScript\", \"Go\"]\n   * });\n   * ```\n   * \n   * @returns Promise<ObjectGenerationResponse> - Object containing:\n   *   - `object`: The generated and validated JSON object/array/enum\n   *   - `usage`: Token usage information\n   *   - `finishReason`: Why generation stopped\n   */\n  async generateObject(options) {\n    try {\n      if (!options.prompt) {\n        throw new BlinkAIError(\"Prompt is required\");\n      }\n      const response = await this.httpClient.aiObject(\n        options.prompt,\n        {\n          model: options.model,\n          output: options.output,\n          schema: options.schema,\n          enum: options.enum,\n          stream: false,\n          signal: options.signal\n        }\n      );\n      return response.data;\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Object generation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Streams structured object generation with real-time partial updates as the AI builds the object.\n   * \n   * @param options - Same as generateObject: prompt, schema, output type, etc.\n   * @param onPartial - Callback function that receives partial object updates as they're generated\n   * \n   * @example\n   * ```ts\n   * // Stream object generation with schema\n   * await blink.ai.streamObject(\n   *   {\n   *     prompt: \"Generate a detailed product catalog entry\",\n   *     schema: {\n   *       type: \"object\",\n   *       properties: {\n   *         name: { type: \"string\" },\n   *         price: { type: \"number\" },\n   *         description: { type: \"string\" },\n   *         features: { type: \"array\", items: { type: \"string\" } }\n   *       }\n   *     }\n   *   },\n   *   (partial) => {\n   *     console.log(\"Partial update:\", partial);\n   *     updateProductForm(partial); // Update UI in real-time\n   *   }\n   * );\n   * ```\n   * \n   * @returns Promise<ObjectGenerationResponse> - Final complete object with metadata\n   */\n  async streamObject(options, onPartial) {\n    try {\n      if (!options.prompt) {\n        throw new BlinkAIError(\"Prompt is required\");\n      }\n      const result = await this.httpClient.streamAiObject(\n        options.prompt,\n        {\n          model: options.model,\n          output: options.output,\n          schema: options.schema,\n          enum: options.enum,\n          signal: options.signal\n        },\n        onPartial\n      );\n      return {\n        object: result.object || {},\n        finishReason: \"stop\",\n        usage: result.usage\n      };\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Object streaming failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Generates images from text descriptions using AI image models.\n   * \n   * @param options - Object containing:\n   *   - `prompt`: Text description of the desired image (required, up to 100k characters)\n   *   - `model`: AI model to use (optional). Available models:\n   *       **Fal.ai Models (Recommended):**\n   *       - `\"fal-ai/nano-banana\"` (default) - Gemini 2.5 Flash Image (Fast)\n   *       - `\"fal-ai/nano-banana-pro\"` - Gemini 3 Pro Image (High quality)\n   *       - `\"fal-ai/gemini-25-flash-image\"` - Alias for nano-banana\n   *       - `\"fal-ai/gemini-3-pro-image-preview\"` - Alias for nano-banana-pro\n   *       **Legacy Gemini Models:**\n   *       - `\"gemini-2.5-flash-image-preview\"` - Direct Gemini API\n   *       - `\"gemini-3-pro-image-preview\"` - Direct Gemini API\n   *   - `n`: Number of images to generate (default: 1)\n   *   - `size`: Image dimensions (e.g., \"1024x1024\", \"512x512\")\n   *   - Plus optional signal parameter\n   * \n   * @example\n   * ```ts\n   * // Basic image generation (uses default fast model)\n   * const { data } = await blink.ai.generateImage({\n   *   prompt: \"A serene landscape with mountains and a lake at sunset\"\n   * });\n   * console.log(\"Image URL:\", data[0].url);\n   * \n   * // High quality generation with Pro model\n   * const { data } = await blink.ai.generateImage({\n   *   prompt: \"A detailed infographic about AI with charts and diagrams\",\n   *   model: \"fal-ai/nano-banana-pro\",\n   *   n: 2\n   * });\n   * \n   * // Fast generation with specific size\n   * const { data } = await blink.ai.generateImage({\n   *   prompt: \"A futuristic city skyline with flying cars\",\n   *   model: \"fal-ai/nano-banana\",\n   *   size: \"1024x1024\",\n   *   n: 3\n   * });\n   * data.forEach((img, i) => console.log(`Image ${i+1}:`, img.url));\n   * \n   * // Using legacy Gemini model\n   * const { data } = await blink.ai.generateImage({\n   *   prompt: \"A cute robot mascot for a tech company\",\n   *   model: \"gemini-2.5-flash-image-preview\"\n   * });\n   * ```\n   * \n   * @returns Promise<ImageGenerationResponse> - Object containing:\n   *   - `data`: Array of generated images with URLs\n   *   - `created`: Timestamp of generation\n   *   - `model`: The model used for generation\n   */\n  async generateImage(options) {\n    try {\n      if (!options.prompt) {\n        throw new BlinkAIError(\"Prompt is required\");\n      }\n      const response = await this.httpClient.aiImage(\n        options.prompt,\n        {\n          model: options.model,\n          n: options.n,\n          size: options.size,\n          signal: options.signal\n        }\n      );\n      let imageResponse;\n      if (response.data?.result?.data) {\n        imageResponse = response.data.result;\n      } else if (response.data?.data) {\n        imageResponse = response.data;\n      } else {\n        throw new BlinkAIError(\"Invalid response format: missing image data\");\n      }\n      if (!Array.isArray(imageResponse.data)) {\n        throw new BlinkAIError(\"Invalid response format: data should be an array\");\n      }\n      imageResponse.data = imageResponse.data.map((item) => {\n        if (typeof item === \"string\") {\n          return { url: item };\n        } else if (item.url) {\n          return item;\n        } else {\n          throw new BlinkAIError(\"Invalid image response format\");\n        }\n      });\n      return imageResponse;\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Image generation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Modifies existing images using AI image editing models with text prompts for image-to-image editing.\n   * \n   * @param options - Object containing:\n   *   - `images`: Array of public image URLs to modify (required, up to 50 images)\n   *   - `prompt`: Text description of desired modifications (required, up to 100k characters)\n   *   - `model`: AI model to use (optional). Available editing models:\n   *       **Fal.ai Editing Models (Recommended):**\n   *       - `\"fal-ai/nano-banana/edit\"` (default) - Flash editing (Fast)\n   *       - `\"fal-ai/nano-banana-pro/edit\"` - Pro editing (High quality)\n   *       - `\"fal-ai/gemini-25-flash-image/edit\"` - Alias for nano-banana/edit\n   *       - `\"fal-ai/gemini-3-pro-image-preview/edit\"` - Alias for nano-banana-pro/edit\n   *       **Legacy Gemini Models:**\n   *       - `\"gemini-2.5-flash-image-preview\"` - Direct Gemini API\n   *       - `\"gemini-3-pro-image-preview\"` - Direct Gemini API\n   *   - `n`: Number of output images to generate (default: 1)\n   *   - Plus optional signal parameter\n   * \n   * @example\n   * ```ts\n   * // Fast editing with default model\n   * const { data } = await blink.ai.modifyImage({\n   *   images: [\"https://storage.example.com/photo.jpg\"],\n   *   prompt: \"make it green\"\n   * });\n   * \n   * // High quality editing with Pro model\n   * const { data } = await blink.ai.modifyImage({\n   *   images: [\"https://storage.example.com/landscape.jpg\"],\n   *   prompt: \"add a tree in the background\",\n   *   model: \"fal-ai/nano-banana-pro/edit\"\n   * });\n   * \n   * // Professional headshots from casual photos\n   * const { data } = await blink.ai.modifyImage({\n   *   images: [\n   *     \"https://storage.example.com/user-photo-1.jpg\",\n   *     \"https://storage.example.com/user-photo-2.jpg\"\n   *   ],\n   *   prompt: \"Transform into professional business headshots with studio lighting\",\n   *   model: \"fal-ai/nano-banana/edit\",\n   *   n: 4\n   * });\n   * data.forEach((img, i) => console.log(`Headshot ${i+1}:`, img.url));\n   * \n   * // Artistic style transformation\n   * const { data } = await blink.ai.modifyImage({\n   *   images: [\"https://storage.example.com/portrait.jpg\"],\n   *   prompt: \"Transform into oil painting style with dramatic lighting\",\n   *   model: \"fal-ai/nano-banana-pro/edit\"\n   * });\n   * \n   * // Background replacement\n   * const { data } = await blink.ai.modifyImage({\n   *   images: [\"https://storage.example.com/product.jpg\"],\n   *   prompt: \"Remove background and place on clean white studio background\",\n   *   n: 2\n   * });\n   * \n   * // Batch processing multiple photos\n   * const userPhotos = [\n   *   \"https://storage.example.com/photo1.jpg\",\n   *   \"https://storage.example.com/photo2.jpg\",\n   *   \"https://storage.example.com/photo3.jpg\"\n   * ];\n   * const { data } = await blink.ai.modifyImage({\n   *   images: userPhotos,\n   *   prompt: \"Convert to black and white vintage style photographs\"\n   * });\n   * \n   * //  Style Transfer - IMPORTANT: Provide all images in array\n   * //  WRONG - Don't reference other images in prompt\n   * const wrong = await blink.ai.modifyImage({\n   *   images: [userPhotoUrl],\n   *   prompt: `Apply hairstyle from ${referenceUrl}`\n   * });\n   * \n   * //  CORRECT - Provide all images in array\n   * const { data } = await blink.ai.modifyImage({\n   *   images: [userPhotoUrl, hairstyleReferenceUrl],\n   *   prompt: \"Apply the hairstyle from the second image to the person in the first image\"\n   * });\n   * ```\n   * \n   * @returns Promise<ImageGenerationResponse> - Object containing:\n   *   - `data`: Array of modified images with URLs\n   *   - `created`: Timestamp of generation\n   *   - `model`: The model used for editing\n   */\n  async modifyImage(options) {\n    try {\n      if (!options.prompt) {\n        throw new BlinkAIError(\"Prompt is required\");\n      }\n      if (!options.images || !Array.isArray(options.images) || options.images.length === 0) {\n        throw new BlinkAIError(\"Images array is required and must contain at least one image URL\");\n      }\n      if (options.images.length > 50) {\n        throw new BlinkAIError(\"Maximum 50 images allowed\");\n      }\n      for (let i = 0; i < options.images.length; i++) {\n        const validation = this.validateImageUrl(options.images[i]);\n        if (!validation.isValid) {\n          throw new BlinkAIError(`Image ${i + 1}: ${validation.error}`);\n        }\n      }\n      const response = await this.httpClient.aiImage(\n        options.prompt,\n        // Non-null assertion since we validated above\n        {\n          model: options.model,\n          images: options.images,\n          n: options.n,\n          signal: options.signal\n        }\n      );\n      let imageResponse;\n      if (response.data?.result?.data) {\n        imageResponse = response.data.result;\n      } else if (response.data?.data) {\n        imageResponse = response.data;\n      } else {\n        throw new BlinkAIError(\"Invalid response format: missing image data\");\n      }\n      if (!Array.isArray(imageResponse.data)) {\n        throw new BlinkAIError(\"Invalid response format: data should be an array\");\n      }\n      imageResponse.data = imageResponse.data.map((item) => {\n        if (typeof item === \"string\") {\n          return { url: item };\n        } else if (item.url) {\n          return item;\n        } else {\n          throw new BlinkAIError(\"Invalid image response format\");\n        }\n      });\n      return imageResponse;\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Image modification failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Generates videos from text prompts or images using AI video generation models.\n   * \n   * @param options - Object containing:\n   *   - `prompt`: Text description of the video to generate (required)\n   *   - `model`: Video model to use (optional). Available models:\n   *       **Text-to-Video Models:**\n   *       - `\"fal-ai/veo3.1\"` - Google Veo 3.1 (best quality)\n   *       - `\"fal-ai/veo3.1/fast\"` (default) - Veo 3.1 fast mode (faster, cheaper)\n   *       - `\"fal-ai/sora-2/text-to-video/pro\"` - OpenAI Sora 2\n   *       - `\"fal-ai/kling-video/v2.6/pro/text-to-video\"` - Kling 2.6\n   *       **Image-to-Video Models:**\n   *       - `\"fal-ai/veo3.1/image-to-video\"` - Veo 3.1 I2V\n   *       - `\"fal-ai/veo3.1/fast/image-to-video\"` - Veo 3.1 fast I2V\n   *       - `\"fal-ai/sora-2/image-to-video/pro\"` - Sora 2 I2V\n   *       - `\"fal-ai/kling-video/v2.6/pro/image-to-video\"` - Kling 2.6 I2V\n   *   - `image_url`: Source image URL for image-to-video (required for I2V models)\n   *   - `duration`: Video duration (\"4s\", \"5s\", \"6s\", \"8s\", \"10s\", \"12s\")\n   *   - `aspect_ratio`: Aspect ratio (\"16:9\", \"9:16\", \"1:1\")\n   *   - `resolution`: Resolution (\"720p\", \"1080p\") - Veo/Sora only\n   *   - `negative_prompt`: What to avoid in generation - Veo/Kling only\n   *   - `generate_audio`: Generate audio with video (default: true)\n   *   - `seed`: For reproducibility - Veo only\n   *   - `cfg_scale`: Guidance scale (0-1) - Kling only\n   *   - Plus optional signal parameter\n   * \n   * @example\n   * ```ts\n   * // Basic text-to-video generation (uses default fast model)\n   * const { result } = await blink.ai.generateVideo({\n   *   prompt: \"A serene sunset over the ocean with gentle waves\"\n   * });\n   * console.log(\"Video URL:\", result.video.url);\n   * \n   * // High quality with Veo 3.1\n   * const { result } = await blink.ai.generateVideo({\n   *   prompt: \"A cinematic shot of a futuristic city at night\",\n   *   model: \"fal-ai/veo3.1\",\n   *   resolution: \"1080p\",\n   *   aspect_ratio: \"16:9\"\n   * });\n   * \n   * // Image-to-video animation\n   * const { result } = await blink.ai.generateVideo({\n   *   prompt: \"Animate this image with gentle camera movement\",\n   *   model: \"fal-ai/veo3.1/fast/image-to-video\",\n   *   image_url: \"https://example.com/my-image.jpg\",\n   *   duration: \"5s\"\n   * });\n   * \n   * // Using Sora 2 for creative videos\n   * const { result } = await blink.ai.generateVideo({\n   *   prompt: \"A magical forest with glowing fireflies\",\n   *   model: \"fal-ai/sora-2/text-to-video/pro\",\n   *   duration: \"8s\"\n   * });\n   * \n   * // Using Kling for detailed videos\n   * const { result, usage } = await blink.ai.generateVideo({\n   *   prompt: \"A professional cooking tutorial scene\",\n   *   model: \"fal-ai/kling-video/v2.6/pro/text-to-video\",\n   *   negative_prompt: \"blur, distort, low quality\",\n   *   cfg_scale: 0.7\n   * });\n   * console.log(\"Credits charged:\", usage?.creditsCharged);\n   * ```\n   * \n   * @returns Promise<VideoGenerationResponse> - Object containing:\n   *   - `result.video.url`: URL to the generated video\n   *   - `result.video.content_type`: MIME type (video/mp4)\n   *   - `result.video.file_name`: Generated filename\n   *   - `result.video.file_size`: File size in bytes\n   *   - `metadata`: Generation metadata (projectId, timestamp, model)\n   *   - `usage`: Credits charged and cost information\n   */\n  async generateVideo(options) {\n    try {\n      if (!options.prompt) {\n        throw new BlinkAIError(\"Prompt is required\");\n      }\n      const i2vModels = [\n        \"fal-ai/veo3.1/image-to-video\",\n        \"fal-ai/veo3.1/fast/image-to-video\",\n        \"fal-ai/sora-2/image-to-video/pro\",\n        \"fal-ai/kling-video/v2.6/pro/image-to-video\"\n      ];\n      if (options.model && i2vModels.includes(options.model) && !options.image_url) {\n        throw new BlinkAIError(\"image_url is required for image-to-video models\");\n      }\n      if (options.image_url) {\n        const validation = this.validateImageUrl(options.image_url);\n        if (!validation.isValid) {\n          throw new BlinkAIError(`Invalid image_url: ${validation.error}`);\n        }\n      }\n      const response = await this.httpClient.aiVideo(\n        options.prompt,\n        {\n          model: options.model,\n          image_url: options.image_url,\n          duration: options.duration,\n          aspect_ratio: options.aspect_ratio,\n          resolution: options.resolution,\n          negative_prompt: options.negative_prompt,\n          generate_audio: options.generate_audio,\n          seed: options.seed,\n          cfg_scale: options.cfg_scale,\n          signal: options.signal\n        }\n      );\n      if (!response.data?.result?.video?.url) {\n        throw new BlinkAIError(\"Invalid response format: missing video URL\");\n      }\n      return response.data;\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Video generation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Converts text to speech using AI voice synthesis models.\n   * \n   * @param options - Object containing:\n   *   - `text`: Text content to convert to speech (required)\n   *   - `voice`: Voice to use (\"alloy\", \"echo\", \"fable\", \"onyx\", \"nova\", \"shimmer\")\n   *   - `response_format`: Audio format (\"mp3\", \"opus\", \"aac\", \"flac\", \"wav\", \"pcm\")\n   *   - `speed`: Speech speed (0.25 to 4.0, default: 1.0)\n   *   - Plus optional model, signal parameters\n   * \n   * @example\n   * ```ts\n   * // Basic text-to-speech\n   * const { url } = await blink.ai.generateSpeech({\n   *   text: \"Hello, welcome to our AI-powered application!\"\n   * });\n   * console.log(\"Audio URL:\", url);\n   * \n   * // Custom voice and format\n   * const { url, voice, format } = await blink.ai.generateSpeech({\n   *   text: \"This is a demonstration of our speech synthesis capabilities.\",\n   *   voice: \"nova\",\n   *   response_format: \"wav\",\n   *   speed: 1.2\n   * });\n   * console.log(`Generated ${format} audio with ${voice} voice:`, url);\n   * \n   * // Slow, clear speech for accessibility\n   * const { url } = await blink.ai.generateSpeech({\n   *   text: \"Please listen carefully to these important instructions.\",\n   *   voice: \"echo\",\n   *   speed: 0.8\n   * });\n   * ```\n   * \n   * @returns Promise<SpeechGenerationResponse> - Object containing:\n   *   - `url`: URL to the generated audio file\n   *   - `voice`: Voice used for generation\n   *   - `format`: Audio format\n   *   - `mimeType`: MIME type of the audio\n   */\n  async generateSpeech(options) {\n    try {\n      if (!options.text) {\n        throw new BlinkAIError(\"Text is required\");\n      }\n      const response = await this.httpClient.aiSpeech(\n        options.text,\n        {\n          model: options.model,\n          voice: options.voice,\n          response_format: options.response_format,\n          speed: options.speed,\n          signal: options.signal\n        }\n      );\n      let speechResponse;\n      if (response.data?.result) {\n        speechResponse = response.data.result;\n      } else if (response.data?.url) {\n        speechResponse = response.data;\n      } else {\n        throw new BlinkAIError(\"Invalid response format: missing speech data\");\n      }\n      if (!speechResponse.url) {\n        if (typeof response.data === \"string\") {\n          speechResponse = {\n            url: response.data,\n            voice: options.voice || \"alloy\",\n            format: options.response_format || \"mp3\",\n            mimeType: this.getMimeTypeForFormat(options.response_format || \"mp3\")\n          };\n        } else if (response.data?.data) {\n          speechResponse = {\n            url: response.data.data,\n            voice: options.voice || \"alloy\",\n            format: options.response_format || \"mp3\",\n            mimeType: this.getMimeTypeForFormat(options.response_format || \"mp3\")\n          };\n        } else {\n          throw new BlinkAIError(\"Invalid response format: no audio URL found\");\n        }\n      }\n      if (!speechResponse.voice) {\n        speechResponse.voice = options.voice || \"alloy\";\n      }\n      if (!speechResponse.format) {\n        speechResponse.format = options.response_format || \"mp3\";\n      }\n      if (!speechResponse.mimeType) {\n        speechResponse.mimeType = this.getMimeTypeForFormat(speechResponse.format);\n      }\n      return speechResponse;\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Speech generation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  /**\n   * Transcribes audio content to text using AI speech recognition models.\n   * \n   * @param options - Object containing:\n   *   - `audio`: Audio input as URL string, base64 string, or number array buffer (required)\n   *   - `language`: Language code for transcription (e.g., \"en\", \"es\", \"fr\")\n   *   - `response_format`: Output format (\"json\", \"text\", \"srt\", \"verbose_json\", \"vtt\")\n   *   - Plus optional model, signal parameters\n   * \n   * @example\n   * ```ts\n   * // Transcribe from URL\n   * const { text } = await blink.ai.transcribeAudio({\n   *   audio: \"https://example.com/meeting-recording.mp3\"\n   * });\n   * console.log(\"Transcription:\", text);\n   * \n   * // Transcribe with language hint\n   * const { text, language } = await blink.ai.transcribeAudio({\n   *   audio: \"https://example.com/spanish-audio.wav\",\n   *   language: \"es\"\n   * });\n   * console.log(`Transcribed ${language}:`, text);\n   * \n   * // Transcribe with timestamps (verbose format)\n   * const result = await blink.ai.transcribeAudio({\n   *   audio: audioFileUrl,\n   *   response_format: \"verbose_json\"\n   * });\n   * result.segments?.forEach(segment => {\n   *   console.log(`${segment.start}s - ${segment.end}s: ${segment.text}`);\n   * });\n   * \n   * // Transcribe from audio buffer\n   * const audioBuffer = new Array(1024).fill(0); // Your audio data\n   * const { text } = await blink.ai.transcribeAudio({\n   *   audio: audioBuffer,\n   *   language: \"en\"\n   * });\n   * ```\n   * \n   * @returns Promise<TranscriptionResponse> - Object containing:\n   *   - `text`: Transcribed text content\n   *   - `transcript`: Alias for text\n   *   - `segments`: Array of timestamped segments (if verbose format)\n   *   - `language`: Detected language\n   *   - `duration`: Audio duration in seconds\n   */\n  async transcribeAudio(options) {\n    try {\n      if (!options.audio) {\n        throw new BlinkAIError(\"Audio is required\");\n      }\n      const response = await this.httpClient.aiTranscribe(\n        options.audio,\n        {\n          model: options.model,\n          language: options.language,\n          response_format: options.response_format,\n          signal: options.signal\n        }\n      );\n      if (response.data?.result) {\n        return response.data.result;\n      } else if (response.data?.text || response.data?.transcript) {\n        return {\n          text: response.data.text || response.data.transcript,\n          transcript: response.data.transcript || response.data.text,\n          ...response.data\n        };\n      } else {\n        throw new BlinkAIError(\"Invalid response format: missing transcription text\");\n      }\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Audio transcription failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  async agent(options) {\n    try {\n      if (!options.agent?.model) {\n        throw new BlinkAIError(\"agent.model is required\");\n      }\n      if (!options.prompt && !options.messages) {\n        throw new BlinkAIError(\"Either prompt or messages is required\");\n      }\n      if (options.prompt && options.messages) {\n        throw new BlinkAIError(\"prompt and messages are mutually exclusive\");\n      }\n      const serializedTools = options.agent.tools ? serializeTools(options.agent.tools) : void 0;\n      const requestBody = {\n        stream: options.stream,\n        agent: {\n          model: options.agent.model,\n          system: options.agent.system,\n          tools: serializedTools,\n          webhook_tools: options.agent.webhook_tools,\n          client_tools: options.agent.client_tools,\n          tool_choice: options.agent.tool_choice,\n          stop_when: options.agent.stop_when,\n          prepare_step: options.agent.prepare_step\n        }\n      };\n      if (options.prompt) {\n        requestBody.prompt = options.prompt;\n      } else if (options.messages) {\n        requestBody.messages = options.messages;\n      }\n      if (options.stream) {\n        return await this.httpClient.aiAgentStream(requestBody, options.signal);\n      } else {\n        const response = await this.httpClient.aiAgent(requestBody, options.signal);\n        return response.data;\n      }\n    } catch (error) {\n      if (error instanceof BlinkAIError) {\n        throw error;\n      }\n      throw new BlinkAIError(\n        `Agent request failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        void 0,\n        { originalError: error }\n      );\n    }\n  }\n  // ============================================================================\n  // Agent Factory\n  // ============================================================================\n  /**\n   * Creates a reusable Agent instance with the Vercel AI SDK pattern.\n   * \n   * The Agent can be used multiple times with different prompts:\n   * - `agent.generate({ prompt })` for non-streaming\n   * - `agent.stream({ prompt })` for streaming\n   * \n   * @param options - Agent configuration (model, tools, system, etc.)\n   * @returns Agent instance\n   * \n   * @example\n   * ```ts\n   * const weatherAgent = blink.ai.createAgent({\n   *   model: 'anthropic/claude-sonnet-4-20250514',\n   *   system: 'You are a helpful weather assistant.',\n   *   tools: [webSearch, fetchUrl],\n   *   maxSteps: 10,\n   * })\n   * \n   * // Non-streaming\n   * const result = await weatherAgent.generate({\n   *   prompt: 'What is the weather in San Francisco?',\n   * })\n   * \n   * // Streaming\n   * const stream = await weatherAgent.stream({\n   *   prompt: 'Tell me about weather patterns',\n   * })\n   * ```\n   */\n  createAgent(options) {\n    const agent = new Agent(options);\n    agent._setHttpClient(this.httpClient);\n    return agent;\n  }\n  /**\n   * Binds an existing Agent instance to this client's HTTP client.\n   * \n   * Used internally by useAgent() when an Agent instance is passed.\n   * This allows agents created with `new Agent()` to be used with the hook.\n   * \n   * @param agent - Existing Agent instance\n   * @returns The same Agent instance (with httpClient set)\n   */\n  bindAgent(agent) {\n    agent._setHttpClient(this.httpClient);\n    return agent;\n  }\n};\n\n// src/data.ts\nvar BlinkDataImpl = class {\n  constructor(httpClient, projectId) {\n    this.httpClient = httpClient;\n    this.projectId = projectId;\n  }\n  async extractFromUrl(url, options = {}) {\n    const { chunking = false, chunkSize } = options;\n    const request = { url, chunking, chunkSize };\n    const response = await this.httpClient.dataExtractFromUrl(this.projectId, request);\n    return chunking ? response.data.chunks : response.data.text;\n  }\n  async extractFromBlob(file, options = {}) {\n    const { chunking = false, chunkSize } = options;\n    const response = await this.httpClient.dataExtractFromBlob(this.projectId, file, chunking, chunkSize);\n    return chunking ? response.data.chunks : response.data.text;\n  }\n  async scrape(url) {\n    const request = {\n      url,\n      formats: [\"markdown\", \"html\", \"links\", \"extract\", \"metadata\"]\n    };\n    const response = await this.httpClient.dataScrape(this.projectId, request);\n    const data = response.data;\n    return {\n      markdown: data.markdown || \"\",\n      html: data.html || \"\",\n      metadata: {\n        title: data.metadata?.title || \"\",\n        description: data.metadata?.description || \"\",\n        url: data.metadata?.url || url,\n        domain: data.metadata?.domain || new URL(url).hostname,\n        favicon: data.metadata?.favicon,\n        image: data.metadata?.image,\n        author: data.metadata?.author,\n        publishedTime: data.metadata?.publishedTime,\n        modifiedTime: data.metadata?.modifiedTime,\n        type: data.metadata?.type,\n        siteName: data.metadata?.siteName,\n        locale: data.metadata?.locale,\n        keywords: data.metadata?.keywords || []\n      },\n      links: data.links || [],\n      extract: {\n        title: data.extract?.title || data.metadata?.title || \"\",\n        description: data.extract?.description || data.metadata?.description || \"\",\n        headings: data.extract?.headings || [],\n        text: data.extract?.text || data.markdown || \"\"\n      }\n    };\n  }\n  async screenshot(url, options = {}) {\n    const request = { url, ...options };\n    const response = await this.httpClient.dataScreenshot(this.projectId, request);\n    return response.data.url;\n  }\n  async fetch(request) {\n    const response = await this.httpClient.dataFetch(this.projectId, request);\n    if (\"status\" in response.data && \"headers\" in response.data) {\n      return response.data;\n    }\n    throw new BlinkDataError(\"Unexpected response format from fetch endpoint\");\n  }\n  async fetchAsync(request) {\n    const asyncRequest = { ...request, async: true };\n    const response = await this.httpClient.dataFetch(this.projectId, asyncRequest);\n    if (\"status\" in response.data && response.data.status === \"triggered\") {\n      return response.data;\n    }\n    throw new BlinkDataError(\"Unexpected response format from async fetch endpoint\");\n  }\n  async search(query, options) {\n    const normalizeType = (type) => {\n      switch (type) {\n        case \"news\":\n          return \"nws\";\n        case \"images\":\n        case \"image\":\n          return \"isch\";\n        case \"videos\":\n        case \"video\":\n          return \"vid\";\n        case \"shopping\":\n        case \"shop\":\n          return \"shop\";\n        default:\n          return void 0;\n      }\n    };\n    const request = {\n      q: query,\n      location: options?.location,\n      hl: options?.language || \"en\",\n      tbm: normalizeType(options?.type),\n      num: options?.limit\n    };\n    const response = await this.httpClient.dataSearch(this.projectId, request);\n    return response.data;\n  }\n};\n\n// src/realtime-connection.ts\nvar getWebSocketClass = () => {\n  if (typeof WebSocket !== \"undefined\") {\n    return WebSocket;\n  }\n  try {\n    const WS = __require(\"ws\");\n    return WS;\n  } catch (error) {\n    throw new BlinkRealtimeError('WebSocket is not available. Install \"ws\" package for Node.js environments.');\n  }\n};\nvar RealtimeConnection = class {\n  constructor(httpClient, projectId) {\n    this.httpClient = httpClient;\n    this.projectId = projectId;\n  }\n  websocket = null;\n  isConnected = false;\n  isConnecting = false;\n  reconnectTimer = null;\n  heartbeatTimer = null;\n  reconnectAttempts = 0;\n  connectionPromise = null;\n  // Channel management\n  channels = /* @__PURE__ */ new Map();\n  pendingSubscriptions = /* @__PURE__ */ new Map();\n  // Message queue for when socket not ready\n  messageQueue = [];\n  /**\n   * Check if connection is ready\n   */\n  isReady() {\n    return this.isConnected && this.websocket?.readyState === 1;\n  }\n  /**\n   * Ensure WebSocket connection is established\n   */\n  async connect() {\n    if (this.isConnected && this.websocket?.readyState === 1) {\n      return;\n    }\n    if (this.connectionPromise) {\n      return this.connectionPromise;\n    }\n    this.connectionPromise = this.connectWebSocket();\n    try {\n      await this.connectionPromise;\n    } finally {\n      this.connectionPromise = null;\n    }\n  }\n  /**\n   * Join a channel (subscribe)\n   */\n  async joinChannel(channelName, handler, options = {}) {\n    await this.connect();\n    this.channels.set(channelName, { handler, options });\n    return new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        this.pendingSubscriptions.delete(channelName);\n        this.channels.delete(channelName);\n        reject(new BlinkRealtimeError(\"Subscription timeout - no acknowledgment from server\"));\n      }, 1e4);\n      this.pendingSubscriptions.set(channelName, { resolve, reject, timeout });\n      const subscribeMessage = {\n        type: \"subscribe\",\n        payload: {\n          channel: channelName,\n          userId: options.userId,\n          metadata: options.metadata\n        }\n      };\n      try {\n        this.sendRaw(JSON.stringify(subscribeMessage));\n      } catch (error) {\n        clearTimeout(timeout);\n        this.pendingSubscriptions.delete(channelName);\n        this.channels.delete(channelName);\n        reject(error);\n      }\n    });\n  }\n  /**\n   * Leave a channel (unsubscribe)\n   */\n  async leaveChannel(channelName) {\n    this.channels.delete(channelName);\n    const pending = this.pendingSubscriptions.get(channelName);\n    if (pending) {\n      clearTimeout(pending.timeout);\n      pending.reject(new BlinkRealtimeError(\"Subscription cancelled\"));\n      this.pendingSubscriptions.delete(channelName);\n    }\n    if (this.websocket && this.websocket.readyState === 1) {\n      const unsubscribeMessage = {\n        type: \"unsubscribe\",\n        payload: { channel: channelName }\n      };\n      this.websocket.send(JSON.stringify(unsubscribeMessage));\n    }\n    if (this.channels.size === 0) {\n      this.disconnect();\n    }\n  }\n  /**\n   * Send a message to a channel\n   */\n  async send(channelName, type, data, options = {}) {\n    await this.connect();\n    const publishMessage = {\n      type: \"publish\",\n      payload: {\n        channel: channelName,\n        type,\n        data,\n        userId: options.userId,\n        metadata: options.metadata\n      }\n    };\n    return this.sendWithResponse(JSON.stringify(publishMessage), channelName);\n  }\n  /**\n   * Disconnect and cleanup\n   */\n  disconnect() {\n    this.isConnected = false;\n    this.isConnecting = false;\n    if (this.heartbeatTimer) {\n      clearInterval(this.heartbeatTimer);\n      this.heartbeatTimer = null;\n    }\n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer);\n      this.reconnectTimer = null;\n    }\n    this.messageQueue.forEach((q) => {\n      clearTimeout(q.timeout);\n      q.reject(new BlinkRealtimeError(\"Connection closed\"));\n    });\n    this.messageQueue = [];\n    this.pendingSubscriptions.forEach((pending, channel) => {\n      clearTimeout(pending.timeout);\n      pending.reject(new BlinkRealtimeError(\"Connection closed\"));\n    });\n    this.pendingSubscriptions.clear();\n    if (this.websocket) {\n      this.websocket.close();\n      this.websocket = null;\n    }\n  }\n  /**\n   * Get count of active channels\n   */\n  getChannelCount() {\n    return this.channels.size;\n  }\n  // Private methods\n  async connectWebSocket() {\n    if (this.websocket && this.websocket.readyState === 1) {\n      this.isConnected = true;\n      return;\n    }\n    if (this.isConnecting) {\n      return new Promise((resolve, reject) => {\n        const checkConnection = () => {\n          if (this.isConnected) {\n            resolve();\n          } else if (!this.isConnecting) {\n            reject(new BlinkRealtimeError(\"Connection failed\"));\n          } else {\n            setTimeout(checkConnection, 100);\n          }\n        };\n        checkConnection();\n      });\n    }\n    this.isConnecting = true;\n    this.isConnected = false;\n    return new Promise((resolve, reject) => {\n      try {\n        const httpClient = this.httpClient;\n        const coreUrl = httpClient.coreUrl || \"https://core.blink.new\";\n        const baseUrl = coreUrl.replace(\"https://\", \"wss://\").replace(\"http://\", \"ws://\");\n        const wsUrl = `${baseUrl}?project_id=${this.projectId}`;\n        console.log(`\\u{1F517} Connecting to realtime: ${wsUrl}`);\n        const WSClass = getWebSocketClass();\n        this.websocket = new WSClass(wsUrl);\n        if (!this.websocket) {\n          this.isConnecting = false;\n          reject(new BlinkRealtimeError(\"Failed to create WebSocket instance\"));\n          return;\n        }\n        this.websocket.onopen = () => {\n          console.log(`\\u{1F517} Connected to realtime for project ${this.projectId}`);\n          this.isConnecting = false;\n          this.isConnected = true;\n          this.reconnectAttempts = 0;\n          this.startHeartbeat();\n          this.flushMessageQueue();\n          resolve();\n        };\n        this.websocket.onmessage = (event) => {\n          try {\n            const message = JSON.parse(event.data);\n            this.handleMessage(message);\n          } catch (error) {\n            console.error(\"Failed to parse WebSocket message:\", error);\n          }\n        };\n        this.websocket.onclose = () => {\n          console.log(`\\u{1F50C} Disconnected from realtime for project ${this.projectId}`);\n          this.isConnecting = false;\n          this.isConnected = false;\n          this.rejectQueuedMessages(new BlinkRealtimeError(\"WebSocket connection closed\"));\n          this.scheduleReconnect();\n        };\n        this.websocket.onerror = (error) => {\n          console.error(\"WebSocket error:\", error);\n          this.isConnecting = false;\n          this.isConnected = false;\n          reject(new BlinkRealtimeError(`WebSocket connection failed to ${wsUrl}`));\n        };\n        setTimeout(() => {\n          if (this.websocket?.readyState !== 1) {\n            this.isConnecting = false;\n            reject(new BlinkRealtimeError(\"WebSocket connection timeout\"));\n          }\n        }, 1e4);\n      } catch (error) {\n        this.isConnecting = false;\n        reject(new BlinkRealtimeError(`Failed to create WebSocket connection: ${error instanceof Error ? error.message : \"Unknown error\"}`));\n      }\n    });\n  }\n  handleMessage(message) {\n    const channelName = message.payload?.channel;\n    switch (message.type) {\n      case \"connected\":\n        console.log(`\\u2705 WebSocket connected: ${message.payload?.socketId}`);\n        break;\n      case \"subscribed\":\n        console.log(`\\u2705 Subscribed to channel: ${channelName}`);\n        const pendingSub = this.pendingSubscriptions.get(channelName);\n        if (pendingSub) {\n          clearTimeout(pendingSub.timeout);\n          pendingSub.resolve();\n          this.pendingSubscriptions.delete(channelName);\n        }\n        const subHandler = this.channels.get(channelName);\n        if (subHandler) {\n          subHandler.handler.onSubscribed();\n        }\n        break;\n      case \"message\":\n        const msgChannel = this.channels.get(message.payload?.channel);\n        if (msgChannel) {\n          msgChannel.handler.onMessage(message.payload);\n        }\n        break;\n      case \"presence\":\n        const presChannel = this.channels.get(message.payload?.channel);\n        if (presChannel) {\n          const users = message.payload?.data?.users || [];\n          presChannel.handler.onPresence(users);\n        }\n        break;\n      case \"published\":\n        break;\n      case \"pong\":\n        break;\n      case \"error\":\n        console.error(\"Realtime error:\", message.payload?.error);\n        const errChannel = this.channels.get(channelName);\n        if (errChannel) {\n          errChannel.handler.onError(message.payload?.error);\n        }\n        const pendingErr = this.pendingSubscriptions.get(channelName);\n        if (pendingErr) {\n          clearTimeout(pendingErr.timeout);\n          pendingErr.reject(new BlinkRealtimeError(`Subscription error: ${message.payload?.error}`));\n          this.pendingSubscriptions.delete(channelName);\n        }\n        break;\n      case \"unsubscribed\":\n        console.log(`\\u274C Unsubscribed from channel: ${channelName}`);\n        break;\n      default:\n        console.log(\"Unknown message type:\", message.type);\n    }\n  }\n  sendRaw(message) {\n    if (this.websocket && this.websocket.readyState === 1) {\n      this.websocket.send(message);\n    } else {\n      throw new BlinkRealtimeError(\"Cannot send message: WebSocket not connected\");\n    }\n  }\n  sendWithResponse(message, channelName) {\n    return new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        const index = this.messageQueue.findIndex((q) => q.resolve === resolve);\n        if (index > -1) {\n          this.messageQueue.splice(index, 1);\n        }\n        reject(new BlinkRealtimeError(\"Message send timeout - no response from server\"));\n      }, 1e4);\n      if (this.websocket && this.websocket.readyState === 1) {\n        const handleResponse = (event) => {\n          try {\n            const response = JSON.parse(event.data);\n            if (response.type === \"published\" && response.payload.channel === channelName) {\n              clearTimeout(timeout);\n              this.websocket.removeEventListener(\"message\", handleResponse);\n              resolve(response.payload.messageId);\n            } else if (response.type === \"error\") {\n              clearTimeout(timeout);\n              this.websocket.removeEventListener(\"message\", handleResponse);\n              reject(new BlinkRealtimeError(`Server error: ${response.payload.error}`));\n            }\n          } catch (err) {\n          }\n        };\n        this.websocket.addEventListener(\"message\", handleResponse);\n        this.websocket.send(message);\n      } else {\n        this.messageQueue.push({ message, resolve, reject, timeout });\n      }\n    });\n  }\n  flushMessageQueue() {\n    if (!this.websocket || this.websocket.readyState !== 1) return;\n    const queue = [...this.messageQueue];\n    this.messageQueue = [];\n    queue.forEach((q) => {\n      try {\n        this.websocket.send(q.message);\n      } catch (error) {\n        clearTimeout(q.timeout);\n        q.reject(new BlinkRealtimeError(\"Failed to send queued message\"));\n      }\n    });\n  }\n  rejectQueuedMessages(error) {\n    const queue = [...this.messageQueue];\n    this.messageQueue = [];\n    queue.forEach((q) => {\n      clearTimeout(q.timeout);\n      q.reject(error);\n    });\n  }\n  startHeartbeat() {\n    if (this.heartbeatTimer) {\n      clearInterval(this.heartbeatTimer);\n    }\n    this.heartbeatTimer = globalThis.setInterval(() => {\n      if (this.websocket && this.websocket.readyState === 1) {\n        this.websocket.send(JSON.stringify({ type: \"ping\", payload: {} }));\n      }\n    }, 25e3);\n  }\n  scheduleReconnect() {\n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer);\n    }\n    if (this.channels.size === 0) {\n      return;\n    }\n    this.reconnectAttempts++;\n    const baseDelay = Math.min(3e4, Math.pow(2, this.reconnectAttempts) * 1e3);\n    const jitter = Math.random() * 1e3;\n    const delay = baseDelay + jitter;\n    console.log(`\\u{1F504} Scheduling reconnect attempt ${this.reconnectAttempts} in ${Math.round(delay)}ms`);\n    this.reconnectTimer = globalThis.setTimeout(async () => {\n      if (this.channels.size === 0) return;\n      try {\n        await this.connectWebSocket();\n        await this.resubscribeAllChannels();\n      } catch (error) {\n        console.error(\"Reconnection failed:\", error);\n        this.scheduleReconnect();\n      }\n    }, delay);\n  }\n  async resubscribeAllChannels() {\n    console.log(`\\u{1F504} Resubscribing ${this.channels.size} channels...`);\n    for (const [channelName, subscription] of this.channels) {\n      try {\n        const subscribeMessage = {\n          type: \"subscribe\",\n          payload: {\n            channel: channelName,\n            userId: subscription.options.userId,\n            metadata: subscription.options.metadata\n          }\n        };\n        if (this.websocket && this.websocket.readyState === 1) {\n          this.websocket.send(JSON.stringify(subscribeMessage));\n        }\n      } catch (error) {\n        console.error(`Failed to resubscribe to ${channelName}:`, error);\n      }\n    }\n  }\n};\n\n// src/realtime.ts\nvar BlinkRealtimeChannel = class {\n  constructor(channelName, connection, httpClient, projectId) {\n    this.channelName = channelName;\n    this.connection = connection;\n    this.httpClient = httpClient;\n    this.projectId = projectId;\n  }\n  messageCallbacks = [];\n  presenceCallbacks = [];\n  isSubscribed = false;\n  subscribeOptions = {};\n  /**\n   * Check if channel is ready for publishing\n   */\n  isReady() {\n    return this.isSubscribed && this.connection.isReady();\n  }\n  async subscribe(options = {}) {\n    if (this.isSubscribed) {\n      return;\n    }\n    this.subscribeOptions = options;\n    const handler = {\n      onMessage: (message) => {\n        this.messageCallbacks.forEach((callback) => {\n          try {\n            callback(message);\n          } catch (error) {\n            console.error(\"Error in message callback:\", error);\n          }\n        });\n      },\n      onPresence: (users) => {\n        this.presenceCallbacks.forEach((callback) => {\n          try {\n            callback(users);\n          } catch (error) {\n            console.error(\"Error in presence callback:\", error);\n          }\n        });\n      },\n      onSubscribed: () => {\n        this.isSubscribed = true;\n      },\n      onError: (error) => {\n        console.error(`Channel ${this.channelName} error:`, error);\n      }\n    };\n    await this.connection.joinChannel(this.channelName, handler, options);\n    this.isSubscribed = true;\n  }\n  async unsubscribe() {\n    if (!this.isSubscribed) {\n      return;\n    }\n    await this.connection.leaveChannel(this.channelName);\n    this.cleanup();\n  }\n  async publish(type, data, options = {}) {\n    return this.connection.send(this.channelName, type, data, options);\n  }\n  onMessage(callback) {\n    this.messageCallbacks.push(callback);\n    return () => {\n      const index = this.messageCallbacks.indexOf(callback);\n      if (index > -1) {\n        this.messageCallbacks.splice(index, 1);\n      }\n    };\n  }\n  onPresence(callback) {\n    this.presenceCallbacks.push(callback);\n    return () => {\n      const index = this.presenceCallbacks.indexOf(callback);\n      if (index > -1) {\n        this.presenceCallbacks.splice(index, 1);\n      }\n    };\n  }\n  async getPresence() {\n    try {\n      const response = await this.httpClient.realtimeGetPresence(this.projectId, this.channelName);\n      return response.data.users || [];\n    } catch (error) {\n      throw new BlinkRealtimeError(\n        `Failed to get presence for channel ${this.channelName}: ${error instanceof Error ? error.message : \"Unknown error\"}`\n      );\n    }\n  }\n  async getMessages(options = {}) {\n    try {\n      const response = await this.httpClient.realtimeGetMessages(this.projectId, {\n        channel: this.channelName,\n        limit: options.limit,\n        start: options.after || \"-\",\n        end: options.before || \"+\"\n      });\n      return response.data.messages || [];\n    } catch (error) {\n      throw new BlinkRealtimeError(\n        `Failed to get messages for channel ${this.channelName}: ${error instanceof Error ? error.message : \"Unknown error\"}`\n      );\n    }\n  }\n  cleanup() {\n    this.isSubscribed = false;\n    this.subscribeOptions = {};\n    this.messageCallbacks = [];\n    this.presenceCallbacks = [];\n  }\n};\nvar BlinkRealtimeImpl = class {\n  constructor(httpClient, projectId) {\n    this.httpClient = httpClient;\n    this.projectId = projectId;\n    this.connection = new RealtimeConnection(httpClient, projectId);\n  }\n  connection;\n  channels = /* @__PURE__ */ new Map();\n  handlers = {};\n  channel(name) {\n    if (!this.channels.has(name)) {\n      this.channels.set(name, new BlinkRealtimeChannel(name, this.connection, this.httpClient, this.projectId));\n    }\n    return this.channels.get(name);\n  }\n  async subscribe(channelName, callback, options = {}) {\n    const channel = this.channel(channelName);\n    await channel.subscribe(options);\n    const state = this.handlers[channelName] ??= {\n      msgHandlers: /* @__PURE__ */ new Set(),\n      presHandlers: /* @__PURE__ */ new Set(),\n      subscribed: true\n    };\n    state.msgHandlers.add(callback);\n    const messageUnsub = channel.onMessage(callback);\n    return () => {\n      messageUnsub();\n      state.msgHandlers.delete(callback);\n      if (state.msgHandlers.size === 0 && state.presHandlers.size === 0) {\n        channel.unsubscribe();\n        delete this.handlers[channelName];\n      }\n    };\n  }\n  async publish(channelName, type, data, options = {}) {\n    const channel = this.channel(channelName);\n    return channel.publish(type, data, options);\n  }\n  async presence(channelName) {\n    const channel = this.channel(channelName);\n    return channel.getPresence();\n  }\n  onPresence(channelName, callback) {\n    const channel = this.channel(channelName);\n    const state = this.handlers[channelName] ??= {\n      msgHandlers: /* @__PURE__ */ new Set(),\n      presHandlers: /* @__PURE__ */ new Set(),\n      subscribed: false\n    };\n    state.presHandlers.add(callback);\n    const presenceUnsub = channel.onPresence(callback);\n    return () => {\n      presenceUnsub();\n      state.presHandlers.delete(callback);\n      if (state.msgHandlers.size === 0 && state.presHandlers.size === 0) {\n        channel.unsubscribe();\n        delete this.handlers[channelName];\n      }\n    };\n  }\n  /**\n   * Get the number of active WebSocket connections (should always be 0 or 1)\n   */\n  getConnectionCount() {\n    return this.connection.isReady() ? 1 : 0;\n  }\n  /**\n   * Get the number of active channels\n   */\n  getChannelCount() {\n    return this.connection.getChannelCount();\n  }\n};\n\n// src/notifications.ts\nvar BlinkNotificationsImpl = class {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n  }\n  /**\n   * Sends an email using the Blink Notifications API.\n   *\n   * @param params - An object containing the details for the email.\n   *   - `to`: The recipient's email address or an array of addresses.\n   *   - `subject`: The subject line of the email.\n   *   - `html`: The HTML body of the email. For best results across all email\n   *             clients (like Gmail, Outlook), use inline CSS and table-based layouts.\n   *   - `text`: A plain-text version of the email body (optional).\n   *   - `from`: A custom sender name (e.g., \"Acme Inc\"). The email address will\n   *             be auto-generated by the project (e.g., \"noreply@project.blink-email.com\").\n   *   - `replyTo`: An email address for recipients to reply to (optional).\n   *   - `cc`: A CC recipient's email address or an array of addresses (optional).\n   *   - `bcc`: A BCC recipient's email address or an array of addresses (optional).\n   *   - `attachments`: An array of objects for files to attach, each with a `url`.\n   *                    The file at the URL will be fetched and attached by the server.\n   *\n   * @example\n   * ```ts\n   * // Send a simple email\n   * const { success, messageId } = await blink.notifications.email({\n   *   to: 'customer@example.com',\n   *   subject: 'Your order has shipped!',\n   *   html: '<h1>Order Confirmation</h1><p>Your order #12345 is on its way.</p>'\n   * });\n   *\n   * // Send an email with attachments and a custom from name\n   * const { success } = await blink.notifications.email({\n   *   to: ['team@example.com', 'manager@example.com'],\n   *   subject: 'New Invoice',\n   *   from: 'Blink Invoicing',\n   *   html: '<p>Please find the invoice attached.</p>',\n   *   attachments: [\n   *     { url: 'https://example.com/invoice.pdf', filename: 'invoice.pdf' }\n   *   ]\n   * });\n   * ```\n   *\n   * @returns A promise that resolves with an object containing the status of the email send.\n   *   - `success`: A boolean indicating if the email was sent successfully.\n   *   - `messageId`: The unique ID of the message from the email provider.\n   */\n  async email(params) {\n    try {\n      if (!params.to || !params.subject || !params.html && !params.text) {\n        throw new BlinkNotificationsError('The \"to\", \"subject\", and either \"html\" or \"text\" fields are required.');\n      }\n      const response = await this.httpClient.post(`/api/notifications/${this.httpClient.projectId}/email`, params);\n      if (!response.data || typeof response.data.success !== \"boolean\") {\n        throw new BlinkNotificationsError(\"Invalid response from email API\");\n      }\n      return response.data;\n    } catch (error) {\n      if (error instanceof BlinkNotificationsError) {\n        throw error;\n      }\n      const errorMessage = error.response?.data?.error?.message || error.message || \"An unknown error occurred\";\n      throw new BlinkNotificationsError(`Failed to send email: ${errorMessage}`, error.response?.status, error.response?.data?.error);\n    }\n  }\n};\n\n// src/analytics.ts\nvar SESSION_DURATION = 30 * 60 * 1e3;\nvar MAX_BATCH_SIZE = 10;\nvar BATCH_TIMEOUT = 3e3;\nvar MAX_STRING_LENGTH = 256;\nvar BlinkAnalyticsImpl = class {\n  httpClient;\n  projectId;\n  queue = [];\n  timer = null;\n  enabled = true;\n  userId = null;\n  userEmail = null;\n  hasTrackedPageview = false;\n  utmParams = {};\n  persistedAttribution = {};\n  constructor(httpClient, projectId) {\n    this.httpClient = httpClient;\n    this.projectId = projectId;\n    if (!isWeb) {\n      this.enabled = false;\n      return;\n    }\n    if (navigator.doNotTrack === \"1\") {\n      this.enabled = false;\n      return;\n    }\n    this.loadPersistedAttribution();\n    this.captureUTMParams();\n    this.loadQueue();\n    this.trackPageview();\n    this.setupRouteChangeListener();\n    this.setupUnloadListener();\n  }\n  /**\n   * Generate project-scoped storage key for analytics\n   */\n  getStorageKey(suffix) {\n    return `blinkAnalytics${suffix}_${this.projectId}`;\n  }\n  /**\n   * Log a custom analytics event\n   */\n  log(eventName, data = {}) {\n    if (!this.enabled || !isWeb) {\n      return;\n    }\n    const event = this.buildEvent(eventName, data);\n    this.enqueue(event);\n  }\n  /**\n   * Disable analytics tracking\n   */\n  disable() {\n    this.enabled = false;\n    this.clearTimer();\n  }\n  /**\n   * Cleanup analytics instance (remove from global tracking)\n   */\n  destroy() {\n    this.disable();\n    if (typeof window !== \"undefined\") {\n      window.__blinkAnalyticsInstances?.delete(this);\n    }\n  }\n  /**\n   * Enable analytics tracking\n   */\n  enable() {\n    this.enabled = true;\n  }\n  /**\n   * Check if analytics is enabled\n   */\n  isEnabled() {\n    return this.enabled;\n  }\n  /**\n   * Set the user ID for analytics events\n   */\n  setUserId(userId) {\n    this.userId = userId;\n  }\n  /**\n   * Set the user email for analytics events\n   */\n  setUserEmail(email) {\n    this.userEmail = email;\n  }\n  /**\n   * Clear persisted attribution data\n   */\n  clearAttribution() {\n    this.persistedAttribution = {};\n    try {\n      localStorage.removeItem(this.getStorageKey(\"Attribution\"));\n    } catch {\n    }\n  }\n  // Private methods\n  buildEvent(type, data = {}) {\n    const sessionId = this.getOrCreateSessionId();\n    const channel = this.detectChannel();\n    return {\n      type,\n      timestamp: (/* @__PURE__ */ new Date()).toISOString(),\n      project_id: this.projectId,\n      user_id: this.userId,\n      user_email: this.userEmail,\n      session_id: sessionId,\n      pathname: getLocationPathname(),\n      referrer: getDocumentReferrer(),\n      screen_width: getWindowInnerWidth(),\n      channel,\n      utm_source: this.utmParams.utm_source || this.persistedAttribution.utm_source || null,\n      utm_medium: this.utmParams.utm_medium || this.persistedAttribution.utm_medium || null,\n      utm_campaign: this.utmParams.utm_campaign || this.persistedAttribution.utm_campaign || null,\n      utm_content: this.utmParams.utm_content || this.persistedAttribution.utm_content || null,\n      utm_term: this.utmParams.utm_term || this.persistedAttribution.utm_term || null,\n      ...this.sanitizeData(data)\n    };\n  }\n  sanitizeData(data) {\n    if (typeof data === \"string\") {\n      return data.length > MAX_STRING_LENGTH ? data.slice(0, MAX_STRING_LENGTH - 3) + \"...\" : data;\n    }\n    if (typeof data === \"object\" && data !== null) {\n      const result = {};\n      for (const key in data) {\n        result[key] = this.sanitizeData(data[key]);\n      }\n      return result;\n    }\n    return data;\n  }\n  enqueue(event) {\n    this.queue.push(event);\n    this.persistQueue();\n    if (this.queue.length >= MAX_BATCH_SIZE) {\n      this.flush();\n    } else if (!this.timer) {\n      this.timer = setTimeout(() => this.flush(), BATCH_TIMEOUT);\n    }\n  }\n  async flush() {\n    this.clearTimer();\n    if (this.queue.length === 0) {\n      return;\n    }\n    const events = this.queue.slice(0, MAX_BATCH_SIZE);\n    this.queue = this.queue.slice(MAX_BATCH_SIZE);\n    this.persistQueue();\n    try {\n      await this.httpClient.post(`/api/analytics/${this.projectId}/log`, { events });\n    } catch (error) {\n      this.queue = [...events, ...this.queue];\n      this.persistQueue();\n    }\n    if (this.queue.length > 0) {\n      this.timer = setTimeout(() => this.flush(), BATCH_TIMEOUT);\n    }\n  }\n  clearTimer() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }\n  getOrCreateSessionId() {\n    try {\n      const stored = localStorage.getItem(this.getStorageKey(\"Session\"));\n      if (stored) {\n        const session = JSON.parse(stored);\n        const now = Date.now();\n        if (now - session.lastActivityAt > SESSION_DURATION) {\n          return this.createNewSession();\n        }\n        session.lastActivityAt = now;\n        localStorage.setItem(this.getStorageKey(\"Session\"), JSON.stringify(session));\n        return session.id;\n      }\n      return this.createNewSession();\n    } catch {\n      return null;\n    }\n  }\n  createNewSession() {\n    const now = Date.now();\n    const randomId = Math.random().toString(36).substring(2, 10);\n    const session = {\n      id: `sess_${now}_${randomId}`,\n      startedAt: now,\n      lastActivityAt: now\n    };\n    try {\n      localStorage.setItem(this.getStorageKey(\"Session\"), JSON.stringify(session));\n    } catch {\n    }\n    return session.id;\n  }\n  loadQueue() {\n    try {\n      const stored = localStorage.getItem(this.getStorageKey(\"Queue\"));\n      if (stored) {\n        this.queue = JSON.parse(stored);\n        if (this.queue.length > 0) {\n          this.timer = setTimeout(() => this.flush(), BATCH_TIMEOUT);\n        }\n      }\n    } catch {\n      this.queue = [];\n    }\n  }\n  persistQueue() {\n    try {\n      if (this.queue.length === 0) {\n        localStorage.removeItem(this.getStorageKey(\"Queue\"));\n      } else {\n        localStorage.setItem(this.getStorageKey(\"Queue\"), JSON.stringify(this.queue));\n      }\n    } catch {\n    }\n  }\n  trackPageview() {\n    if (!this.hasTrackedPageview) {\n      this.log(\"pageview\");\n      this.hasTrackedPageview = true;\n    }\n  }\n  setupRouteChangeListener() {\n    if (!isWeb) return;\n    if (!window.__blinkAnalyticsSetup) {\n      const originalPushState = history.pushState;\n      const originalReplaceState = history.replaceState;\n      const analyticsInstances = /* @__PURE__ */ new Set();\n      window.__blinkAnalyticsInstances = analyticsInstances;\n      history.pushState = (...args) => {\n        originalPushState.apply(history, args);\n        analyticsInstances.forEach((instance) => {\n          if (instance.isEnabled()) {\n            instance.log(\"pageview\");\n          }\n        });\n      };\n      history.replaceState = (...args) => {\n        originalReplaceState.apply(history, args);\n        analyticsInstances.forEach((instance) => {\n          if (instance.isEnabled()) {\n            instance.log(\"pageview\");\n          }\n        });\n      };\n      window.addEventListener(\"popstate\", () => {\n        analyticsInstances.forEach((instance) => {\n          if (instance.isEnabled()) {\n            instance.log(\"pageview\");\n          }\n        });\n      });\n      window.__blinkAnalyticsSetup = true;\n    }\n    window.__blinkAnalyticsInstances?.add(this);\n  }\n  setupUnloadListener() {\n    if (!isWeb || !hasWindow()) return;\n    window.addEventListener(\"pagehide\", () => {\n      this.flush();\n    });\n    window.addEventListener(\"unload\", () => {\n      this.flush();\n    });\n  }\n  captureUTMParams() {\n    if (!isWeb) return;\n    const search = getLocationSearch();\n    if (!search) {\n      this.utmParams = {};\n      return;\n    }\n    const urlParams = new URLSearchParams(search);\n    this.utmParams = {\n      utm_source: urlParams.get(\"utm_source\"),\n      utm_medium: urlParams.get(\"utm_medium\"),\n      utm_campaign: urlParams.get(\"utm_campaign\"),\n      utm_content: urlParams.get(\"utm_content\"),\n      utm_term: urlParams.get(\"utm_term\")\n    };\n    const hasNewParams = Object.values(this.utmParams).some((v) => v !== null);\n    if (hasNewParams) {\n      this.persistAttribution();\n    }\n  }\n  loadPersistedAttribution() {\n    try {\n      const stored = localStorage.getItem(this.getStorageKey(\"Attribution\"));\n      if (stored) {\n        this.persistedAttribution = JSON.parse(stored);\n      }\n    } catch {\n      this.persistedAttribution = {};\n    }\n  }\n  persistAttribution() {\n    try {\n      const attribution = {\n        ...this.persistedAttribution,\n        ...Object.fromEntries(\n          Object.entries(this.utmParams).filter(([_, v]) => v !== null)\n        )\n      };\n      localStorage.setItem(this.getStorageKey(\"Attribution\"), JSON.stringify(attribution));\n      this.persistedAttribution = attribution;\n    } catch {\n    }\n  }\n  detectChannel() {\n    const referrer = getDocumentReferrer();\n    const utmMedium = this.utmParams.utm_medium;\n    this.utmParams.utm_source;\n    if (utmMedium) {\n      if (utmMedium === \"cpc\" || utmMedium === \"ppc\") return \"Paid Search\";\n      if (utmMedium === \"email\") return \"Email\";\n      if (utmMedium === \"social\") return \"Social\";\n      if (utmMedium === \"referral\") return \"Referral\";\n      if (utmMedium === \"display\") return \"Display\";\n      if (utmMedium === \"affiliate\") return \"Affiliate\";\n    }\n    if (!referrer) return \"Direct\";\n    try {\n      const referrerUrl = new URL(referrer);\n      const referrerDomain = referrerUrl.hostname.toLowerCase();\n      if (/google\\.|bing\\.|yahoo\\.|duckduckgo\\.|baidu\\.|yandex\\./.test(referrerDomain)) {\n        return \"Organic Search\";\n      }\n      if (/facebook\\.|twitter\\.|linkedin\\.|instagram\\.|youtube\\.|tiktok\\.|reddit\\./.test(referrerDomain)) {\n        return \"Social\";\n      }\n      if (/mail\\.|outlook\\.|gmail\\./.test(referrerDomain)) {\n        return \"Email\";\n      }\n      return \"Referral\";\n    } catch {\n      return \"Direct\";\n    }\n  }\n};\n\n// src/connectors.ts\nvar BlinkConnectorsImpl = class {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n  }\n  async status(provider, options) {\n    const response = await this.httpClient.connectorStatus(provider);\n    return response.data;\n  }\n  async execute(provider, request) {\n    const response = await this.httpClient.connectorExecute(provider, request);\n    return response.data;\n  }\n  async saveApiKey(provider, request) {\n    const response = await this.httpClient.connectorSaveApiKey(provider, request);\n    return response.data;\n  }\n};\n\n// src/functions.ts\nvar BlinkFunctionsImpl = class {\n  httpClient;\n  projectId;\n  constructor(httpClient, projectId, _getToken) {\n    this.httpClient = httpClient;\n    this.projectId = projectId;\n  }\n  /**\n   * Get the project suffix from the full project ID.\n   * Project IDs are formatted as: prj_xxxxx\n   * The suffix is the last 8 characters used in function URLs.\n   */\n  getProjectSuffix() {\n    return this.projectId.slice(-8);\n  }\n  /**\n   * Build the full function URL\n   */\n  buildFunctionUrl(functionSlug, searchParams) {\n    const suffix = this.getProjectSuffix();\n    const baseUrl = `https://${suffix}--${functionSlug}.functions.blink.new`;\n    if (!searchParams || Object.keys(searchParams).length === 0) {\n      return baseUrl;\n    }\n    const url = new URL(baseUrl);\n    Object.entries(searchParams).forEach(([key, value]) => {\n      url.searchParams.set(key, value);\n    });\n    return url.toString();\n  }\n  async invoke(functionSlug, options = {}) {\n    const { method = \"POST\", body, headers = {}, searchParams } = options;\n    const url = this.buildFunctionUrl(functionSlug, searchParams);\n    const res = await this.httpClient.request(url, { method, body, headers });\n    return { data: res.data, status: res.status, headers: res.headers };\n  }\n};\n\n// src/rag.ts\nfunction removeUndefined(obj) {\n  return Object.fromEntries(\n    Object.entries(obj).filter(([, v]) => v !== void 0)\n  );\n}\nfunction convertCollection(api) {\n  return {\n    id: api.id,\n    name: api.name,\n    description: api.description,\n    embeddingModel: api.embedding_model,\n    embeddingDimensions: api.embedding_dimensions,\n    indexMetric: api.index_metric,\n    chunkMaxTokens: api.chunk_max_tokens,\n    chunkOverlapTokens: api.chunk_overlap_tokens,\n    documentCount: api.document_count,\n    chunkCount: api.chunk_count,\n    shared: api.shared,\n    createdAt: api.created_at,\n    updatedAt: api.updated_at\n  };\n}\nfunction convertDocument(api) {\n  return {\n    id: api.id,\n    collectionId: api.collection_id,\n    filename: api.filename,\n    sourceType: api.source_type,\n    sourceUrl: api.source_url,\n    contentType: api.content_type,\n    fileSize: api.file_size,\n    status: api.status,\n    errorMessage: api.error_message,\n    processingStartedAt: api.processing_started_at,\n    processingCompletedAt: api.processing_completed_at,\n    chunkCount: api.chunk_count,\n    tokenCount: api.token_count,\n    metadata: api.metadata,\n    createdAt: api.created_at,\n    updatedAt: api.updated_at\n  };\n}\nfunction convertPartialDocument(api, options) {\n  let sourceType = \"text\";\n  if (options.url) sourceType = \"url\";\n  if (options.file) sourceType = \"file\";\n  return {\n    id: api.id || \"\",\n    collectionId: api.collection_id || options.collectionId || \"\",\n    filename: api.filename || options.filename,\n    sourceType: api.source_type || sourceType,\n    sourceUrl: api.source_url ?? options.url ?? null,\n    contentType: api.content_type ?? options.file?.contentType ?? null,\n    fileSize: api.file_size ?? null,\n    status: api.status || \"pending\",\n    errorMessage: api.error_message ?? null,\n    processingStartedAt: api.processing_started_at ?? null,\n    processingCompletedAt: api.processing_completed_at ?? null,\n    chunkCount: api.chunk_count ?? 0,\n    tokenCount: api.token_count ?? null,\n    metadata: api.metadata || options.metadata || {},\n    createdAt: api.created_at || (/* @__PURE__ */ new Date()).toISOString(),\n    updatedAt: api.updated_at || api.created_at || (/* @__PURE__ */ new Date()).toISOString()\n  };\n}\nfunction convertSearchResult(api) {\n  return {\n    chunkId: api.chunk_id,\n    documentId: api.document_id,\n    filename: api.filename,\n    content: api.content,\n    score: api.score,\n    chunkIndex: api.chunk_index,\n    metadata: api.metadata\n  };\n}\nfunction convertSearchResponse(api) {\n  return {\n    results: api.results.map(convertSearchResult),\n    query: api.query,\n    collectionId: api.collection_id,\n    totalResults: api.total_results\n  };\n}\nfunction convertAISearchSource(api) {\n  return {\n    documentId: api.document_id,\n    filename: api.filename,\n    chunkId: api.chunk_id,\n    excerpt: api.excerpt,\n    score: api.score\n  };\n}\nfunction convertAISearchResult(api) {\n  return {\n    answer: api.answer,\n    sources: api.sources.map(convertAISearchSource),\n    query: api.query,\n    model: api.model,\n    usage: {\n      inputTokens: api.usage.input_tokens,\n      outputTokens: api.usage.output_tokens\n    }\n  };\n}\nvar BlinkRAGImpl = class {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.projectId = httpClient.projectId;\n  }\n  projectId;\n  /**\n   * Build URL with project_id prefix\n   */\n  url(path) {\n    return `/api/rag/${this.projectId}${path}`;\n  }\n  // ============================================================================\n  // Collections\n  // ============================================================================\n  /**\n   * Create a new RAG collection\n   */\n  async createCollection(options) {\n    const body = removeUndefined({\n      name: options.name,\n      description: options.description,\n      embedding_model: options.embeddingModel,\n      embedding_dimensions: options.embeddingDimensions,\n      index_metric: options.indexMetric,\n      chunk_max_tokens: options.chunkMaxTokens,\n      chunk_overlap_tokens: options.chunkOverlapTokens,\n      shared: options.shared\n    });\n    const response = await this.httpClient.post(this.url(\"/collections\"), body);\n    return convertCollection(response.data);\n  }\n  /**\n   * List all collections accessible to the current user\n   */\n  async listCollections() {\n    const response = await this.httpClient.get(this.url(\"/collections\"));\n    return response.data.collections.map(convertCollection);\n  }\n  /**\n   * Get a specific collection by ID\n   */\n  async getCollection(collectionId) {\n    const response = await this.httpClient.get(this.url(`/collections/${collectionId}`));\n    return convertCollection(response.data);\n  }\n  /**\n   * Delete a collection and all its documents\n   */\n  async deleteCollection(collectionId) {\n    await this.httpClient.delete(this.url(`/collections/${collectionId}`));\n  }\n  // ============================================================================\n  // Documents\n  // ============================================================================\n  /**\n   * Upload a document for processing\n   * \n   * @example\n   * // Upload text content\n   * const doc = await blink.rag.upload({\n   *   collectionName: 'docs',\n   *   filename: 'notes.txt',\n   *   content: 'My document content...'\n   * })\n   * \n   * @example\n   * // Upload from URL\n   * const doc = await blink.rag.upload({\n   *   collectionId: 'col_abc123',\n   *   filename: 'article.html',\n   *   url: 'https://example.com/article'\n   * })\n   * \n   * @example\n   * // Upload a file (base64)\n   * const doc = await blink.rag.upload({\n   *   collectionName: 'docs',\n   *   filename: 'report.pdf',\n   *   file: { data: base64Data, contentType: 'application/pdf' }\n   * })\n   */\n  async upload(options) {\n    if (!options.collectionId && !options.collectionName) {\n      throw new Error(\"collectionId or collectionName is required\");\n    }\n    const body = removeUndefined({\n      collection_id: options.collectionId,\n      collection_name: options.collectionName,\n      filename: options.filename,\n      content: options.content,\n      url: options.url,\n      metadata: options.metadata\n    });\n    if (options.file) {\n      body.file = {\n        data: options.file.data,\n        content_type: options.file.contentType\n      };\n    }\n    const response = await this.httpClient.post(this.url(\"/documents\"), body);\n    return convertPartialDocument(response.data, options);\n  }\n  /**\n   * Get document status and metadata\n   */\n  async getDocument(documentId) {\n    const response = await this.httpClient.get(this.url(`/documents/${documentId}`));\n    return convertDocument(response.data);\n  }\n  /**\n   * List documents, optionally filtered by collection or status\n   */\n  async listDocuments(options) {\n    const params = {};\n    if (options?.collectionId) params.collection_id = options.collectionId;\n    if (options?.status) params.status = options.status;\n    const queryString = Object.keys(params).length > 0 ? `?${new URLSearchParams(params).toString()}` : \"\";\n    const response = await this.httpClient.get(\n      this.url(`/documents${queryString}`)\n    );\n    return response.data.documents.map(convertDocument);\n  }\n  /**\n   * Delete a document and its chunks\n   */\n  async deleteDocument(documentId) {\n    await this.httpClient.delete(this.url(`/documents/${documentId}`));\n  }\n  /**\n   * Wait for a document to finish processing\n   * \n   * @example\n   * const doc = await blink.rag.upload({ ... })\n   * const readyDoc = await blink.rag.waitForReady(doc.id)\n   * console.log(`Processed ${readyDoc.chunkCount} chunks`)\n   */\n  async waitForReady(documentId, options) {\n    const { timeoutMs = 12e4, pollIntervalMs = 2e3 } = options || {};\n    const start = Date.now();\n    while (Date.now() - start < timeoutMs) {\n      const doc = await this.getDocument(documentId);\n      if (doc.status === \"ready\") {\n        return doc;\n      }\n      if (doc.status === \"error\") {\n        throw new Error(`Document processing failed: ${doc.errorMessage}`);\n      }\n      await new Promise((resolve) => setTimeout(resolve, pollIntervalMs));\n    }\n    throw new Error(`Document processing timeout after ${timeoutMs}ms`);\n  }\n  // ============================================================================\n  // Search\n  // ============================================================================\n  /**\n   * Search for similar chunks using vector similarity\n   * \n   * @example\n   * const results = await blink.rag.search({\n   *   collectionName: 'docs',\n   *   query: 'How do I configure authentication?',\n   *   maxResults: 5\n   * })\n   */\n  async search(options) {\n    if (!options.collectionId && !options.collectionName) {\n      throw new Error(\"collectionId or collectionName is required\");\n    }\n    const body = removeUndefined({\n      collection_id: options.collectionId,\n      collection_name: options.collectionName,\n      query: options.query,\n      max_results: options.maxResults,\n      score_threshold: options.scoreThreshold,\n      filters: options.filters,\n      include_content: options.includeContent\n    });\n    const response = await this.httpClient.post(this.url(\"/search\"), body);\n    return convertSearchResponse(response.data);\n  }\n  async aiSearch(options) {\n    if (!options.collectionId && !options.collectionName) {\n      throw new Error(\"collectionId or collectionName is required\");\n    }\n    const body = removeUndefined({\n      collection_id: options.collectionId,\n      collection_name: options.collectionName,\n      query: options.query,\n      model: options.model,\n      max_context_chunks: options.maxContextChunks,\n      score_threshold: options.scoreThreshold,\n      system_prompt: options.systemPrompt,\n      stream: options.stream\n    });\n    if (options.stream) {\n      const response2 = await this.httpClient.ragAiSearchStream(body, options.signal);\n      return response2.body;\n    }\n    const response = await this.httpClient.post(this.url(\"/ai-search\"), body);\n    return convertAISearchResult(response.data);\n  }\n};\n\n// src/sandbox.ts\nvar SANDBOX_TEMPLATES = [\n  \"devtools-base\",\n  // Node 22 + Bun + Python + Git + ripgrep (DEFAULT)\n  \"nextjs-app\",\n  // Next.js + Tailwind + shadcn UI (Node)\n  \"nextjs-app-bun\",\n  // Next.js + Tailwind + shadcn UI (Bun)\n  \"vite-react\",\n  // Vite + React + Tailwind + shadcn (Node)\n  \"vite-react-bun\",\n  // Vite + React + Tailwind + shadcn (Bun)\n  \"expo-app\",\n  // Expo + React Native\n  \"desktop\",\n  // Electron + Vite + React\n  \"claude-code\"\n  // Node 21 + Python + Git + ripgrep\n];\nvar SandboxConnectionError = class extends Error {\n  sandboxId;\n  constructor(sandboxId, cause) {\n    super(`Failed to connect to sandbox ${sandboxId}`);\n    this.name = \"SandboxConnectionError\";\n    this.sandboxId = sandboxId;\n    if (cause) {\n      this.cause = cause;\n    }\n  }\n};\nvar SandboxImpl = class {\n  constructor(id, template, hostPattern) {\n    this.id = id;\n    this.template = template;\n    this.hostPattern = hostPattern;\n  }\n  getHost(port) {\n    return this.hostPattern.replace(\"{port}\", String(port));\n  }\n};\nvar MAX_RETRIES = 3;\nvar INITIAL_RETRY_DELAY_MS = 250;\nvar BlinkSandboxImpl = class {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.projectId = httpClient.projectId;\n  }\n  projectId;\n  /**\n   * Build URL with project_id prefix\n   */\n  url(path) {\n    return `/api/sandbox/${this.projectId}${path}`;\n  }\n  async create(options = {}) {\n    const body = {\n      template: options.template,\n      timeout_ms: options.timeoutMs,\n      metadata: options.metadata,\n      secrets: options.secrets\n    };\n    const response = await this.httpClient.post(this.url(\"/create\"), body);\n    const { id, template, host_pattern } = response.data;\n    return new SandboxImpl(id, template, host_pattern);\n  }\n  async connect(sandboxId, options = {}) {\n    let lastError;\n    for (let attempt = 0; attempt < MAX_RETRIES; attempt++) {\n      try {\n        const body = {\n          sandbox_id: sandboxId,\n          timeout_ms: options.timeoutMs\n        };\n        const response = await this.httpClient.post(this.url(\"/connect\"), body);\n        const { id, template, host_pattern } = response.data;\n        return new SandboxImpl(id, template, host_pattern);\n      } catch (error) {\n        console.error(`[Sandbox] Connect attempt ${attempt + 1} failed:`, error);\n        lastError = error instanceof Error ? error : new Error(String(error));\n        if (lastError.message.includes(\"404\") || lastError.message.includes(\"not found\") || lastError.message.includes(\"unauthorized\")) {\n          throw new SandboxConnectionError(sandboxId, lastError);\n        }\n        if (attempt < MAX_RETRIES - 1) {\n          const delay = INITIAL_RETRY_DELAY_MS * Math.pow(2, attempt);\n          await new Promise((resolve) => setTimeout(resolve, delay));\n        }\n      }\n    }\n    console.error(`[Sandbox] All ${MAX_RETRIES} connection attempts failed for sandbox ${sandboxId}`);\n    throw new SandboxConnectionError(sandboxId, lastError);\n  }\n  async kill(sandboxId) {\n    await this.httpClient.post(this.url(\"/kill\"), { sandbox_id: sandboxId });\n  }\n};\n\n// src/client.ts\nvar defaultClient = null;\nfunction getDefaultClient() {\n  if (!defaultClient) {\n    throw new Error(\n      \"No Blink client initialized. Call createClient() first before using Agent or other SDK features.\"\n    );\n  }\n  return defaultClient;\n}\nfunction _getDefaultHttpClient() {\n  return getDefaultClient()._httpClient;\n}\nvar BlinkClientImpl = class {\n  auth;\n  db;\n  storage;\n  ai;\n  data;\n  realtime;\n  notifications;\n  analytics;\n  connectors;\n  functions;\n  rag;\n  sandbox;\n  /** @internal HTTP client for Agent auto-binding */\n  _httpClient;\n  constructor(config) {\n    if ((config.secretKey || config.serviceToken) && isBrowser) {\n      throw new Error(\"secretKey/serviceToken is server-only. Do not provide it in browser/React Native clients.\");\n    }\n    this.auth = new BlinkAuth(config);\n    this._httpClient = new HttpClient(\n      config,\n      () => this.auth.getToken(),\n      () => this.auth.getValidToken()\n    );\n    this.db = new BlinkDatabase(this._httpClient);\n    this.storage = new BlinkStorageImpl(this._httpClient);\n    this.ai = new BlinkAIImpl(this._httpClient);\n    this.data = new BlinkDataImpl(this._httpClient, config.projectId);\n    this.realtime = new BlinkRealtimeImpl(this._httpClient, config.projectId);\n    this.notifications = new BlinkNotificationsImpl(this._httpClient);\n    this.analytics = new BlinkAnalyticsImpl(this._httpClient, config.projectId);\n    this.connectors = new BlinkConnectorsImpl(this._httpClient);\n    this.functions = new BlinkFunctionsImpl(\n      this._httpClient,\n      config.projectId,\n      () => this.auth.getValidToken()\n    );\n    this.rag = new BlinkRAGImpl(this._httpClient);\n    this.sandbox = new BlinkSandboxImpl(this._httpClient);\n    this.auth.onAuthStateChanged((state) => {\n      if (state.isAuthenticated && state.user) {\n        this.analytics.setUserId(state.user.id);\n        this.analytics.setUserEmail(state.user.email);\n      } else {\n        this.analytics.setUserId(null);\n        this.analytics.setUserEmail(null);\n      }\n    });\n  }\n};\nfunction createClient(config) {\n  if (!config.projectId) {\n    throw new Error(\"projectId is required\");\n  }\n  const client = new BlinkClientImpl(config);\n  defaultClient = client;\n  return client;\n}\n\nexport { Agent, AsyncStorageAdapter, BlinkAIImpl, BlinkAnalyticsImpl, BlinkConnectorsImpl, BlinkDataImpl, BlinkDatabase, BlinkRAGImpl, BlinkRealtimeChannel, BlinkRealtimeImpl, BlinkSandboxImpl, BlinkStorageImpl, BlinkTable, NoOpStorageAdapter, SANDBOX_TEMPLATES, SandboxConnectionError, WebStorageAdapter, coreTools, createClient, dbDelete, dbGet, dbInsert, dbList, dbTools, dbUpdate, editImage, fetchUrl, generateImage, generateVideo, getDefaultClient, getDefaultStorageAdapter, getHost, globFileSearch, grep, imageToVideo, isBrowser, isDeno, isNode, isReactNative, isServer, isWeb, listDir, mediaTools, platform, ragSearch, ragTools, readFile, runCode, runTerminalCmd, sandboxTools, searchReplace, serializeTools, stepCountIs, storageCopy, storageDelete, storageDownload, storageList, storageMove, storagePublicUrl, storageTools, storageUpload, webSearch, writeFile };\n//# sourceMappingURL=index.mjs.map\n//# sourceMappingURL=index.mjs.map"],"names":[],"mappings":"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","ignoreList":[0]}}]
}